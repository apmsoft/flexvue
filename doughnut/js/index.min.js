function onReady(e,n,i){UrlUtil.initialize(UrlUtil.getURL2JSON()),UrlUtil.pushState("index","",app.service_root_dir),ProgressBar.initialize(""),app.initialize({}),n.extend(Activity,{onCreate:function(){require(["swiper","chartjs"],function(e,n){MySwiper=e,MyChart=n}),(void 0!==window.android||window.webkit&&window.webkit.messageHandlers.getSharedPreferences)&&(isMobile.Android()?window.android.getSharedPreferences("callbackGetSharedPreferences"):isMobile.iOS()&&webkit.messageHandlers.getSharedPreferences.postMessage("callbackGetSharedPreferences"))},onCreateView:function(){var i=this;e("#myModal_btn_close").on("click",function(){history.go(-1)}),e("#btn_bottom_close, #bottom_title").on("click",function(){history.go(-1)}),e("#right_back_button, #right_title").on("click",function(){history.go(-1)}),e("#rightside_back_button, #rightside_title").on("click",function(){history.go(-1)}),e("#rightthird_back_button, #rightthird_title").on("click",function(){history.go(-1)}),app.language="ko"!=device_info.lang?device_info.lang:"",Runnable(function(){app.parserResource("/values/sysmsg",function(e){n.extend(app.lang,e)}),app.parserResource("/layout/index",function(t){n.extend(app.docs,t);var o=app.docs.index.frame;Panel.onStart(o);DocAsyncTask.doGetContents(o,{},{success:function(n,t){e("#left_docs_contents").html(n).promise().done(function(){e("#btn-start-trading").on("click",function(){ProgressBar.show_progress(),playerHistoryEnter=1,require([app.assets+"/trading/trading.min.js"],function(e){e.init(function(){e.doStart()})})}),i.doMyTradingInfo()})},fail:function(e){ProgressBar.close_progress(),alert(e.msg)}})})}),e("#btn_select_user").on("click",function(){app.go_url("family.html")}),e("#btn_setting").on("click",function(){require([app.assets+"/setting/setting.min.js"],function(e){e.init()})}),e("#btn_alarm").on("click",function(){require([app.assets+"/alarm/alarm.min.js"],function(n){n.init(function(){n.doListDialog({page:1},function(i){e(".alarm-dialog-row").on("click",function(n){n.preventDefault();var i=e(this).data("param");history.go(-1),Handler.post(function(){"fu3_bbs_notice"==i&&require([app.assets+"/notice/notice.min.js"],function(e){e.init()})},100)}),n.doUpdateRead()})})})}),Handler.post(function(){require([app.assets+"/popup/popup.min.js"],function(e){e.initialize()})},700),Activity.onScrollStateChanged("#left .mdl-layout__content",function(e,n){app.log(n),n<5||n>90&&(is_loading_product||(is_loading_product=!0,i.doProduct()))})},doMyTradingInfo:function(){var i=app.docs.index.trading,t=(Panel.onStart(i),userinfo);n.extend(t,{cache:!1}),DocAsyncTask.doGetContents(i,t,{success:function(n,i){e("#history_trading").html(n).promise().done(function(){i.day_average>0&&(e("#day_average_lay").removeClass("d-none"),e("#day_average").text(i.day_average_str)),e("#btn-go-tradinghistory").unbind("click"),e("#btn-go-tradinghistory").on("click",function(){require([app.assets+"/graph/graph.min.js"],function(e){e.init(function(){e.doRun()})})});var n=document.getElementById("chart1").getContext("2d"),t=n.createLinearGradient(0,0,0,400);t.addColorStop(0,"#C0D75E"),t.addColorStop(.5,"#ADCD59"),t.addColorStop(1,"#97C355");var o=[{data:i.week_logs,backgroundColor:t}],a={legend:{display:!1},title:{display:!1,text:""},scales:{xAxes:[{gridLines:{display:!1},barThickness:35}],yAxes:[{gridLines:{drawBorder:!1,display:!0},ticks:{beginAtZero:!0},scaleLabel:{display:!0,labelString:app.lang.trading_graph_ylabel}}]}};Handler.post(function(){new MyChart(n,{type:"bar",data:{labels:app.lang.week_title,datasets:o},options:a})},130);new MySwiper(".swiper-tradingtop5-container",{spaceBetween:30,autoplay:{delay:3500,disableOnInteraction:!1},loop:!1,pagination:{el:".tradingtop5-swiper-pagination",clickable:!0}});e(".hs-trading-raw").on("click",function(){var n=e(this).data("id"),i=e(this).data("pain");playerHistoryEnter=0,playerIntervalInfo={id:n,cpercent:0,ctime:0,panic_before:-1,panic_after:-1},"y"==i?require([app.assets+"/trading/trading.min.js"],function(e){e.init(function(){e.doChkPain("panic_before",function(){e.doView({id:n})})})}):require([app.assets+"/trading/trading.min.js"],function(e){e.init(function(){e.doView({id:n})})})})})},fail:function(e){ProgressBar.close_progress(),alert(e.msg)}})},doProduct:function(){require([app.assets+"/product/product.min.js"],function(e){e.init(function(){e.doList()})})}}),Activity.onCreate(),Activity.onBackPressed(function(e){app.log("이전"+e+"/ 현재 : "+UrlUtil.current_id),n.isNull(playerIntervalObj)||(void 0!==window.android&&(screen.orientation.lock("portrait"),window.android.screenOnOff("off"),app.log("스크린 켜짐 상태 해제")),app.log(playerIntervalInfo),playerIntervalObj=null,clearInterval(playerIntervalObj),playerIntervalInfo.panic_before>-1?require([app.assets+"/trading/trading.min.js"],function(e){e.doChkPain("panic_after",function(){history.go(-1),Handler.post(function(){e.doTradingDataSubmit()},360)})}):require([app.assets+"/trading/trading.min.js"],function(e){e.doTradingDataSubmit()}))}),Activity.setTouchSwipe({target:"#left",gesture:"right",threshold:130},function(){DrawerNavigation.drawer_menu_opened()}),Activity.setTouchSwipe({target:"#rightthird, #rightside, #right, #bottom",gesture:"right",threshold:100},function(){history.go(-1)}),Handler.post(function(){ProgressBar.close_progress()},200)}function callbackGetSharedPreferences(e){if(e&&""!=e){var n=$.parseJSON(e);_.isUndefined(n.userid)||(userinfo.usertoken=n.usertoken,userinfo.name=n.name,userinfo.userid=n.userid,userinfo.fid=n.fid,userinfo.authtoken=n.authtoken,userinfo.nickname=n.nickname,userinfo.profile_image=n.profile_image,device_info.lang=n.lang,Activity.onCreateView(),Handler.post(function(){$("#btn_select_user").css("backgroundImage","url("+userinfo.profile_image+")")},0))}}function onDeviceReady(){console.log("onDeviceReady"),void 0!==window.android&&(screen.orientation.lock("portrait"),window.addEventListener("orientationchange",function(){-1!==screen.orientation.type.indexOf("landscape")?console.log("landscape"):console.log("portrait")}))}var device_info={lang:""},userinfo={usertoken:"",name:"",fid:"",userid:"",authtoken:"",nickname:"",profile_image:""},pre_menu_id="",scroll_top=0,MySwiper=null,MyChart=null,is_loading_product=!1,playerIntervalObj=null,playerHistoryEnter=0,playerIntervalInfo={id:0,cpercent:0,ctime:0,panic_before:-1,panic_after:-1};void 0!==window.android&&document.addEventListener("deviceready",onDeviceReady,!1);