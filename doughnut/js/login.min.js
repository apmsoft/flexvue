function onReady(e,i,o){UrlUtil.initialize(UrlUtil.getURL2JSON()),UrlUtil.pushState("login","",app.service_root_dir),ProgressBar.initialize(""),app.initialize({}),i.extend(Activity,{onCreate:function(){},onCreateView:function(){e("#myModal_btn_close").on("click",function(){history.go(-1)}),e("#btn_bottom_close, #bottom_title").on("click",function(){history.go(-1)}),e("#right_back_button, #right_title").on("click",function(){history.go(-1)}),e("#rightside_back_button, #rightside_title").on("click",function(){history.go(-1)}),e("#btn-join").on("click",function(){window.location.href="join.html"}),e("#btn-findpwd").on("click",function(){window.location.href="find_passwd.html"}),i.isUndefined(localStorage.getItem(app.name))||e("#userid").val(localStorage.getItem(app.name)),e("#userid").focus(),DocAsyncTask.doSubmit("#theLoginForm",function(o){var t={doc_id:"auth/login"};i.extend(t,o),ProgressBar.show_progress(),DocAsyncTask.doPostMessage(app.src+"/auth/login.regi",t,{success:function(o){var t={userid:o.msg.userid,passwd:o.msg.passwd,fcm_token:e("#fcm_token").val(),usertoken:o.msg.usertoken,name:o.msg.name,level:o.msg.level},n=JSON.stringify(t);if(void 0!==window.android||window.webkit&&window.webkit.messageHandlers.setSharedPreferences)if(isMobile.Android())window.android.setSharedPreferences(n,"callbackSetSharedPreferences");else{var r={callback:"callbackSetSharedPreferences"};i.extend(r,t),webkit.messageHandlers.setSharedPreferences.postMessage(JSON.stringify(r))}},fail:function(i){ProgressBar.close_progress(),"w_stay_logged_in"!=i.msg_code?(void 0!==window.android?isMobile.Android()&&window.android.showToast(i.msg,"short","center"):alert(i.msg),e("#theLoginForm #"+i.fieldname).focus()):callbackSetSharedPreferences("")}})});var o=0;e("#userid, #passwd").on("change keyup",function(i){var t=e("#userid").val(),n=e("#passwd").val();t&&""!=t&&(o=1),n&&""!=n&&(o=2),o>=2?e('#theLoginForm button[type="submit"]').removeAttr("disabled"):e('#theLoginForm button[type="submit"]').attr("disabled","disabled")}),(void 0!==window.android||window.webkit&&window.webkit.messageHandlers.getSharedPreferences)&&(isMobile.Android()?window.android.getSharedPreferences("callbackGetSharedPreferences"):isMobile.iOS()&&webkit.messageHandlers.getSharedPreferences.postMessage("callbackGetSharedPreferences"))}}),Activity.onCreate(),Activity.onCreateView(),Activity.onBackPressed(),Activity.setTouchSwipe({target:"#rightside, #right, #bottom",gesture:"right",threshold:100},function(){history.go(-1)}),Handler.post(function(){ProgressBar.close_progress()},200)}function callbackSetSharedPreferences(e){ProgressBar.close_progress(),void 0!==window.android&&isMobile.Android()&&window.android.showToast("울산 수소차셰어링에 오신것을 환영합니다!","short","center"),app.go_url(http_referer)}function callbackGetSharedPreferences(e){if(app.log(e),e&&""!=e){var i=$.parseJSON(e);if(void 0!==i.fcm_token&&i.fcm_token&&""!=i.fcm_token){var o="a";(void 0!==window.android||window.webkit&&window.webkit.messageHandlers)&&(o=isMobile.Android()?"a":"i"),$("<input>").attr({type:"hidden",id:"fcm_token",name:"fcm_token",value:i.fcm_token}).appendTo("#theLoginForm"),$("<input>").attr({type:"hidden",id:"os_type",name:"os_type",value:o}).appendTo("#theLoginForm")}void 0!==i.userid&&i.userid&&""!=i.userid&&($("#userid").val(i.userid),$("#passwd").val(i.passwd),window.setTimeout(function(){$('#theLoginForm button[type="submit"]').removeAttr("disabled"),$("#theLoginForm").triggerHandler("submit")},500))}}function onDeviceReady(){console.log("onDeviceReady")}var http_referer="index.html";