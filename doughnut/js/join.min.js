function onReady(e,s,n){UrlUtil.initialize(UrlUtil.getURL2JSON()),ProgressBar.initialize(""),app.initialize({}),s.extend(Activity,{onCreate:function(){(void 0!==window.android||window.webkit&&window.webkit.messageHandlers.getSharedPreferences)&&(isMobile.Android()?window.android.getSharedPreferences("callbackGetSharedPreferences"):isMobile.iOS()&&webkit.messageHandlers.getSharedPreferences.postMessage("callbackGetSharedPreferences"))},onCreateView:function(){app.language="ko"!=device_info.lang?device_info.lang:"",Runnable(function(){app.parserResource("/values/sysmsg",function(e){s.extend(app.lang,e)}),app.parserResource("/layout/join",function(n){s.extend(app.docs,n),DocAsyncTask.doGetContents(app.docs.join,{},{success:function(n,i){e("#left_docs_contents").html(n).promise().done(function(){require(["swiper"],function(n){var i=new n(".swiper-container",{pagination:{el:".swiper-pagination",type:"progressbar"},allowSlidePrev:!1,noSwiping:!0,noSwipingClass:"swiper-no-swiping",navigation:{}});i.allowSlideNext=!1,e("#cellphone, #sms_authno, #name").on("change keyup",function(n){var i=n||window.event,o=i.keyCode||i.which,t=e(this).val(),a=e(this).attr("id"),r="";"cellphone"==a?r="#btn-sms-authreq":"sms_authno"==a?r="#btn-sms-authno-next":"name"==a&&(r="#btn-name-next"),s.isUndefined(o)?e(r).trigger("click"):t&&""!=t?e(r).removeAttr("disabled"):e(r).attr("disabled","disabled")}),e("#btn-name-next").on("click",function(n){var o=n||window.event,t=o.keyCode||o.which;DocAsyncTask.doPostMessage(app.src+"/auth/chk_name",{auth_token:device_info.auth_token,name:e("#name").val()},{success:function(n){ProgressBar.close_progress(),s.isUndefined(t)||(i.allowSlideNext=!0,i.slideNext(),i.allowSlideNext=!1),e('button[type="submit"]').removeAttr("disabled")},fail:function(e){ProgressBar.close_progress(),alert(e.msg)}})}),e("#btn-sms-authno-next").on("click",function(n){var o=n||window.event,t=o.keyCode||o.which;DocAsyncTask.doPostMessage(app.src+"/auth/chk_smstoken",{auth_token:device_info.auth_token,cellphone:e("#cellphone").val(),sms_authno:e("#sms_authno").val(),ssid_authno:e("#ssid_authno").val()},{success:function(e){ProgressBar.close_progress(),s.isUndefined(t)||(i.allowSlideNext=!0,i.slideNext(),i.allowSlideNext=!1)},fail:function(e){if(ProgressBar.close_progress(),"w_duplicate_id"==e.msg_code){var n={userid:e.msg.userid,fcm_token:device_info.fcm_token,os_type:device_info.os_type,usertoken:e.msg.usertoken,is_finish_guide:"y",lang:device_info.lang,name:e.msg.name},i=JSON.stringify(n);if(alert(i),void 0!==window.android||window.webkit&&window.webkit.messageHandlers.setSharedPreferences)if(isMobile.Android())window.android.setSharedPreferences(i,"callbackSetSharedPreferences");else{var o={callback:"callbackSetSharedPreferences"};s.extend(o,n),webkit.messageHandlers.setSharedPreferences.postMessage(JSON.stringify(o))}}else alert(e.msg)}})}),e(".show-rules").on("click",function(s){ProgressBar.show_progress(),s.preventDefault();var n=e(this).data("id"),i=app.docs[n];Panel.onStart(i);UrlUtil.pushState(n,"",app.service_root_dir+"?"+e.param({mode:n})+"#"+n),DocAsyncTask.doGetContents(i,{},{success:function(e,s){ProgressBar.close_progress()}})}),e("#chkall").on("click",function(){e(this).hasClass("active")?(e(this).removeClass("active"),e(".chkid").each(function(){var s=e(this).data("id");e(this).removeClass("active"),e("#"+s).val("n")})):(e(this).addClass("active"),e(".chkid").each(function(){var s=e(this).data("id");e(this).addClass("active"),e("#"+s).val("y")}))}),e(".chkid").on("click",function(s){var n=e(this).data("id");e(this).hasClass("active")?(e(this).removeClass("active"),e("#"+n).val("n")):(e(this).addClass("active"),e("#"+n).val("y"));var i=0;e(".chkid").each(function(){e(this).hasClass("active")&&i++}),3==i?e("#chkall").addClass("active"):e("#chkall").removeClass("active")}),e("#btn-sms-authreq").on("click",function(n){ProgressBar.show_progress();var o=n||window.event,t=o.keyCode||o.which,a=e("#cellphone").val();if(""==a)return ProgressBar.close_progress(),void alert(app.lang.w_empty_cellphone);DocAsyncTask.doPostMessage(app.src+"/auth/sms_auth",{auth_token:device_info.auth_token,cellphone:a},{success:function(n){ProgressBar.close_progress(),void 0!==window.android&&isMobile.Android()&&window.android.showToast(n.msg,"short","center"),e("#sms_authno").removeAttr("readonly"),e("#ssid_authno").val(n.ssid_authno),s.isUndefined(t)||(i.allowSlideNext=!0,i.slideNext(),i.allowSlideNext=!1)},fail:function(e){ProgressBar.close_progress(),alert(e.msg)}})}),DocAsyncTask.doSubmit("#theJoinForm",function(n){var i={lang:device_info.lang,fcm_token:device_info.fcm_token,os_type:device_info.os_type};s.extend(i,n),DocAsyncTask.doPostMessage(app.src+"/member/join_insert",i,{success:function(e){ProgressBar.close_progress();var n={userid:e.msg.userid,fcm_token:device_info.fcm_token,os_type:device_info.os_type,usertoken:e.msg.usertoken,is_finish_guide:"y",lang:device_info.lang,name:e.msg.name},i=JSON.stringify(n);if(void 0!==window.android||window.webkit&&window.webkit.messageHandlers.setSharedPreferences)if(isMobile.Android())window.android.setSharedPreferences(i,"callbackSetSharedPreferences");else{var o={callback:"callbackSetSharedPreferences"};s.extend(o,n),webkit.messageHandlers.setSharedPreferences.postMessage(JSON.stringify(o))}},fail:function(n){ProgressBar.close_progress(),void 0!==window.android?isMobile.Android()&&window.android.showToast(n.msg,"short","center"):alert(n.msg),s.isUndefined(n.fieldname)||e("#"+n.fieldname).focus()}})}),Handler.post(function(){ProgressBar.close_progress()},200)})})},fail:function(e){ProgressBar.close_progress()}})})}),e("#myModal_btn_close").on("click",function(){history.go(-1)}),e("#left_back_button, #left_title").on("click",function(){history.go(-1)}),e("#btn_bottom_close, #bottom_title").on("click",function(){history.go(-1)}),e("#right_back_button, #right_title").on("click",function(){history.go(-1)}),e("#rightside_back_button, #rightside_title").on("click",function(){history.go(-1)})}}),Activity.onCreate(),Activity.onBackPressed(),Activity.setTouchSwipe({target:"#rightside, #right, #bottom",gesture:"right",threshold:100},function(){history.go(-1)}),Handler.post(function(){ProgressBar.close_progress()},200)}function onDeviceReady(){console.log("onDeviceReady")}function callbackSetSharedPreferences(e){ProgressBar.close_progress(),app.go_url("family.html")}function callbackGetSharedPreferences(e){if(app.log(e),e&&""!=e){var s=$.parseJSON(e);if(device_info.lang=s.lang,Activity.onCreateView(),void 0!==s.fcm_token&&s.fcm_token&&""!=s.fcm_token){var n="a";(void 0!==window.android||window.webkit&&window.webkit.messageHandlers)&&(n=isMobile.Android()?"a":"i"),device_info.fcm_token=s.fcm_token,device_info.os_type=n}}}var http_referer="login.html",device_info={auth_token:"gksksladlwntldmsgPrkskfmfenfmslsorpdmsgPrksjaclehdkwnslarkatkgkqslek",fcm_token:"",os_type:"",lang:""};