function getRotationAtBezierT(t,e,n){var r,o=t[e],s=t[e+2],a=t[e+4];return o+=(s-o)*n,s+=(a-s)*n,o+=(s-o)*n,r=s+(a+(t[e+6]-a)*n-s)*n-o,o=t[e+1],s=t[e+3],a=t[e+5],o+=(s-o)*n,s+=(a-s)*n,o+=(s-o)*n,_round(_atan2(s+(a+(t[e+7]-a)*n-s)*n-o,r)*_RAD2DEG)}function measureSegment(t,e,n){e=e||0,t.samples||(t.samples=[],t.lookup=[]);var r,o,s,a,i,l,u,g,h,_,p,c,f,d,m,v,P,x=~~t.resolution||12,b=1/x,M=n?e+6*n+1:t.length,y=t[e],S=t[e+1],w=e?e/6*x:0,L=t.samples,N=t.lookup,R=(e?t.minLength:_largeNum)||_largeNum,D=L[w+n*x-1],T=e?L[w-1]:0;for(L.length=N.length=0,o=e+2;o<M;o+=6){if(s=t[o+4]-y,a=t[o+2]-y,i=t[o]-y,g=t[o+5]-S,h=t[o+3]-S,_=t[o+1]-S,l=u=p=c=0,_abs(s)<.01&&_abs(g)<.01&&_abs(i)+_abs(_)<.01)t.length>8&&(t.splice(o,6),o-=6,M-=6);else for(r=1;r<=x;r++)d=b*r,f=1-d,l=u-(u=(d*d*s+3*f*(d*a+f*i))*d),p=c-(c=(d*d*g+3*f*(d*h+f*_))*d),v=_sqrt(p*p+l*l),v<R&&(R=v),T+=v,L[w++]=T;y+=s,S+=g}if(D)for(D-=T;w<L.length;w++)L[w]+=D;if(L.length&&R){if(t.totalLength=P=L[L.length-1]||0,t.minLength=R,P/R<9999)for(v=m=0,r=0;r<P;r+=R)N[v++]=L[m]<r?++m:m}else t.totalLength=L[0]=0;return e?T-L[e/2-1]:T}function getProgressData(t,e,n,r){n=n||{},t.totalLength||cacheRawPathMeasurements(t),(e<0||e>1)&&(e=_wrapProgress(e));var o,s,a,i,l,u,g,h=0,_=t[0];if(e)if(1===e)g=1,h=t.length-1,_=t[h],u=_.length-8;else{if(t.length>1){for(a=t.totalLength*e,l=u=0;(l+=t[u++].totalLength)<a;)h=u;_=t[h],i=l-_.totalLength,e=(a-i)/(l-i)||0}o=_.samples,s=_.resolution,a=_.totalLength*e,u=_.lookup.length?_.lookup[~~(a/_.minLength)]||0:_getSampleIndex(o,a,e),i=u?o[u-1]:0,l=o[u],l<a&&(i=l,l=o[++u]),g=1/s*((a-i)/(l-i)+u%s),u=6*~~(u/s),r&&1===g&&(u+6<_.length?(u+=6,g=0):h+1<t.length&&(u=g=0,_=t[++h]))}else g=u=h=0,_=t[0];return n.t=g,n.i=u,n.path=t,n.segment=_,n.segIndex=h,n}function arcToSegment(t,e,n,r,o,s,a,i,l){if(t!==i||e!==l){n=_abs(n),r=_abs(r);var u=o%360*_DEG2RAD,g=_cos(u),h=_sin(u),_=Math.PI,p=2*_,c=(t-i)/2,f=(e-l)/2,d=g*c+h*f,m=-h*c+g*f,v=d*d,P=m*m,x=v/(n*n)+P/(r*r);x>1&&(n=_sqrt(x)*n,r=_sqrt(x)*r);var b=n*n,M=r*r,y=(b*M-b*P-M*v)/(b*P+M*v);y<0&&(y=0);var S=(s===a?-1:1)*_sqrt(y),w=S*(n*m/r),L=S*(-r*d/n),N=(t+i)/2,R=(e+l)/2,D=N+(g*w-h*L),T=R+(h*w+g*L),z=(d-w)/n,A=(m-L)/r,C=(-d-w)/n,q=(-m-L)/r,E=z*z+A*A,B=(A<0?-1:1)*Math.acos(z/_sqrt(E)),O=(z*q-A*C<0?-1:1)*Math.acos((z*C+A*q)/_sqrt(E*(C*C+q*q)));isNaN(O)&&(O=_),!a&&O>0?O-=p:a&&O<0&&(O+=p),B%=p,O%=p;var I,k=Math.ceil(_abs(O)/(p/4)),j=[],F=O/k,G=4/3*_sin(F/2)/(1+_cos(F/2)),V=g*n,U=h*n,Z=h*-r,H=g*r;for(I=0;I<k;I++)o=B+I*F,d=_cos(o),m=_sin(o),z=_cos(o+=F),A=_sin(o),j.push(d-G*m,m+G*d,z+G*A,A-G*z,z,A);for(I=0;I<j.length;I+=2)d=j[I],m=j[I+1],j[I]=d*V+m*Z+D,j[I+1]=d*U+m*H+T;return j[I-2]=i,j[I-1]=l,j}}function pointToSegDist(t,e,n,r,o,s){var a,i=o-n,l=s-r;return(i||l)&&(a=((t-n)*i+(e-r)*l)/(i*i+l*l),a>1?(n=o,r=s):a>0&&(n+=i*a,r+=l*a)),Math.pow(t-n,2)+Math.pow(e-r,2)}function simplifyStep(t,e,n,r,o){var s,a,i,l=r,u=t[e],g=t[e+1],h=t[n],_=t[n+1];for(a=e+2;a<n;a+=2)i=pointToSegDist(t[a],t[a+1],u,g,h,_),i>l&&(s=a,l=i);l>r&&(s-e>2&&simplifyStep(t,e,s,r,o),o.push(t[s],t[s+1]),n-s>2&&simplifyStep(t,s,n,r,o))}function getClosestProgressOnBezier(t,e,n,r,o,s,a,i,l,u,g,h,_,p){var c,f,d,m,v,P,x=(o-r)/s,b=0,M=r;for(_bestDistance=_largeNum;M<=o;)P=1-M,c=P*P*P*a+3*P*P*M*l+3*P*M*M*g+M*M*M*_,f=P*P*P*i+3*P*P*M*u+3*P*M*M*h+M*M*M*p,m=c-e,v=f-n,d=m*m+v*v,d<_bestDistance&&(_bestDistance=d,b=M),M+=x;return t>1?getClosestProgressOnBezier(t-1,e,n,Math.max(b-x,0),Math.min(b+x,1),s,a,i,l,u,g,h,_,p):b}var _bestDistance,_svgPathExp=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,_numbersExp=/(?:(-)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,_scientific=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,_selectorExp=/(^[#\.][a-z]|[a-y][a-z])/i,_DEG2RAD=Math.PI/180,_RAD2DEG=180/Math.PI,_sin=Math.sin,_cos=Math.cos,_abs=Math.abs,_sqrt=Math.sqrt,_atan2=Math.atan2,_largeNum=1e8,_isString=function(t){return"string"==typeof t},_isNumber=function(t){return"number"==typeof t},_isUndefined=function(t){return void 0===t},_temp={},_temp2={},_roundingNum=1e5,_wrapProgress=function(t){return Math.round((t+_largeNum)%1*_roundingNum)/_roundingNum||(t<0?0:1)},_round=function(t){return Math.round(t*_roundingNum)/_roundingNum||0},_roundPrecise=function(t){return Math.round(1e10*t)/1e10||0},_splitSegment=function(t,e,n,r){var o=t[e],s=1===r?6:subdivideSegment(o,n,r);if(s&&s+n+2<o.length)return t.splice(e,0,o.slice(0,n+s+2)),o.splice(0,n+s),1},_getSampleIndex=function(t,e,n){var r=t.length,o=~~(n*r);if(t[o]>e)for(;--o&&t[o]>e;);else for(;t[++o]<e&&o<r;);return o<r?o:r-1},_reverseRawPath=function(t,e){var n=t.length;for(e||t.reverse();n--;)t[n].reversed||reverseSegment(t[n])},_copyMetaData=function(t,e){return e.totalLength=t.totalLength,t.samples?(e.samples=t.samples.slice(0),e.lookup=t.lookup.slice(0),e.minLength=t.minLength,e.resolution=t.resolution):t.totalPoints&&(e.totalPoints=t.totalPoints),e},_appendOrMerge=function(t,e){var n=t.length,r=t[n-1]||[],o=r.length;n&&e[0]===r[o-2]&&e[1]===r[o-1]&&(e=r.concat(e.slice(2)),n--),t[n]=e};export function getRawPath(t){t=_isString(t)&&_selectorExp.test(t)&&document.querySelector(t)||t;var e,n=t.getAttribute?t:0;return n&&(t=t.getAttribute("d"))?(n._gsPath||(n._gsPath={}),e=n._gsPath[t],e&&!e._dirty?e:n._gsPath[t]=stringToRawPath(t)):t?_isString(t)?stringToRawPath(t):_isNumber(t[0])?[t]:t:console.warn("Expecting a <path> element or an SVG path data string")}export function copyRawPath(t){for(var e=[],n=0;n<t.length;n++)e[n]=_copyMetaData(t[n],t[n].slice(0));return _copyMetaData(t,e)}export function reverseSegment(t){var e,n=0;for(t.reverse();n<t.length;n+=2)e=t[n],t[n]=t[n+1],t[n+1]=e;t.reversed=!t.reversed}var _createPath=function(t,e){var n,r=document.createElementNS("http://www.w3.org/2000/svg","path"),o=[].slice.call(t.attributes),s=o.length;for(e=","+e+",";--s>-1;)n=o[s].nodeName.toLowerCase(),e.indexOf(","+n+",")<0&&r.setAttributeNS(null,n,o[s].nodeValue);return r},_typeAttrs={rect:"rx,ry,x,y,width,height",circle:"r,cx,cy",ellipse:"rx,ry,cx,cy",line:"x1,x2,y1,y2"},_attrToObj=function(t,e){for(var n=e?e.split(","):[],r={},o=n.length;--o>-1;)r[n[o]]=+t.getAttribute(n[o])||0;return r};export function convertToPath(t,e){var n,r,o,s,a,i,l,u,g,h,_,p,c,f,d,m,v,P,x,b,M,y,S=t.tagName.toLowerCase(),w=.552284749831;return"path"!==S&&t.getBBox?(i=_createPath(t,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),y=_attrToObj(t,_typeAttrs[S]),"rect"===S?(s=y.rx,a=y.ry||s,r=y.x,o=y.y,h=y.width-2*s,_=y.height-2*a,s||a?(p=r+s*(1-w),c=r+s,f=c+h,d=f+s*w,m=f+s,v=o+a*(1-w),P=o+a,x=P+_,b=x+a*w,M=x+a,n="M"+m+","+P+" V"+x+" C"+[m,b,d,M,f,M,f-(f-c)/3,M,c+(f-c)/3,M,c,M,p,M,r,b,r,x,r,x-(x-P)/3,r,P+(x-P)/3,r,P,r,v,p,o,c,o,c+(f-c)/3,o,f-(f-c)/3,o,f,o,d,o,m,v,m,P].join(",")+"z"):n="M"+(r+h)+","+o+" v"+_+" h"+-h+" v"+-_+" h"+h+"z"):"circle"===S||"ellipse"===S?("circle"===S?(s=a=y.r,u=s*w):(s=y.rx,a=y.ry,u=a*w),r=y.cx,o=y.cy,l=s*w,n="M"+(r+s)+","+o+" C"+[r+s,o+u,r+l,o+a,r,o+a,r-l,o+a,r-s,o+u,r-s,o,r-s,o-u,r-l,o-a,r,o-a,r+l,o-a,r+s,o-u,r+s,o].join(",")+"z"):"line"===S?n="M"+y.x1+","+y.y1+" L"+y.x2+","+y.y2:"polyline"!==S&&"polygon"!==S||(g=(t.getAttribute("points")+"").match(_numbersExp)||[],r=g.shift(),o=g.shift(),n="M"+r+","+o+" L"+g.join(","),"polygon"===S&&(n+=","+r+","+o+"z")),i.setAttribute("d",rawPathToString(i._gsRawPath=stringToRawPath(n))),e&&t.parentNode&&(t.parentNode.insertBefore(i,t),t.parentNode.removeChild(t)),i):t}export function getRotationAtProgress(t,e){var n=getProgressData(t,e>=1?1-1e-9:e||1e-9);return getRotationAtBezierT(n.segment,n.i,n.t)}export function sliceRawPath(t,e,n){n=_isUndefined(n)?1:_roundPrecise(n)||0,e=_roundPrecise(e)||0;var r=Math.max(0,~~(_abs(n-e)-1e-8)),o=copyRawPath(t);if(e>n&&(e=1-e,n=1-n,_reverseRawPath(o),o.totalLength=0),e<0||n<0){var s=Math.abs(~~Math.min(e,n))+1;e+=s,n+=s}o.totalLength||cacheRawPathMeasurements(o);var a,i,l,u,g,h,_,p,c=n>1,f=getProgressData(o,e,_temp,!0),d=getProgressData(o,n,_temp2),m=d.segment,v=f.segment,P=d.segIndex,x=f.segIndex,b=d.i,M=f.i,y=x===P,S=b===M&&y;if(c||r){for(a=P<x||y&&b<M||S&&d.t<f.t,_splitSegment(o,x,M,f.t)&&(x++,a||(P++,S?(d.t=(d.t-f.t)/(1-f.t),b=0):y&&(b-=M))),1-(n-e)<1e-5?P=x-1:!d.t&&P?P--:_splitSegment(o,P,b,d.t)&&a&&x++,1===f.t&&(x=(x+1)%o.length),g=[],h=o.length,_=1+h*r,p=x,_+=(h-x+P)%h,u=0;u<_;u++)_appendOrMerge(g,o[p++%h]);o=g}else if(l=1===d.t?6:subdivideSegment(m,b,d.t),e!==n)for(i=subdivideSegment(v,M,S?f.t/d.t:f.t),y&&(l+=i),m.splice(b+l+2),(i||M)&&v.splice(0,M+i),u=o.length;u--;)(u<x||u>P)&&o.splice(u,1);else m.angle=getRotationAtBezierT(m,b+l,0),b+=l,f=m[b],d=m[b+1],m.length=m.totalLength=0,m.totalPoints=o.totalPoints=8,m.push(f,d,f,d,f,d,f,d);return o.totalLength=0,o}export function cacheRawPathMeasurements(t,e){var n,r,o;for(o=n=r=0;o<t.length;o++)t[o].resolution=~~e||12,r+=t[o].length,n+=measureSegment(t[o]);return t.totalPoints=r,t.totalLength=n,t}export function subdivideSegment(t,e,n){if(n<=0||n>=1)return 0;var r=t[e],o=t[e+1],s=t[e+2],a=t[e+3],i=t[e+4],l=t[e+5],u=t[e+6],g=t[e+7],h=r+(s-r)*n,_=s+(i-s)*n,p=o+(a-o)*n,c=a+(l-a)*n,f=h+(_-h)*n,d=p+(c-p)*n,m=i+(u-i)*n,v=l+(g-l)*n;return _+=(m-_)*n,c+=(v-c)*n,t.splice(e+2,4,_round(h),_round(p),_round(f),_round(d),_round(f+(_-f)*n),_round(d+(c-d)*n),_round(_),_round(c),_round(m),_round(v)),t.samples&&t.samples.splice(e/6*t.resolution|0,0,0,0,0,0,0,0),6}export function getPositionOnPath(t,e,n,r){var o,s,a,i,l,u,g,h,_,p=t[0],c=r||{};if((e<0||e>1)&&(e=_wrapProgress(e)),t.length>1){for(a=t.totalLength*e,l=u=0;(l+=t[u++].totalLength)<a;)p=t[u];i=l-p.totalLength,e=(a-i)/(l-i)||0}return o=p.samples,s=p.resolution,a=p.totalLength*e,u=p.lookup.length?p.lookup[e<1?~~(a/p.minLength):p.lookup.length-1]||0:_getSampleIndex(o,a,e),i=u?o[u-1]:0,l=o[u],l<a&&(i=l,l=o[++u]),g=1/s*((a-i)/(l-i)+u%s)||0,_=1-g,u=6*~~(u/s),h=p[u],c.x=_round((g*g*(p[u+6]-h)+3*_*(g*(p[u+4]-h)+_*(p[u+2]-h)))*g+h),c.y=_round((g*g*(p[u+7]-(h=p[u+1]))+3*_*(g*(p[u+5]-h)+_*(p[u+3]-h)))*g+h),n&&(c.angle=p.totalLength?getRotationAtBezierT(p,u,g>=1?1-1e-9:g||1e-9):p.angle||0),c}export function transformRawPath(t,e,n,r,o,s,a){for(var i,l,u,g,h,_=t.length;--_>-1;)for(i=t[_],l=i.length,u=0;u<l;u+=2)g=i[u],h=i[u+1],i[u]=g*e+h*r+s,i[u+1]=g*n+h*o+a;return t._dirty=1,t}export function stringToRawPath(t){var e,n,r,o,s,a,i,l,u,g,h,_,p,c,f,d=(t+"").replace(_scientific,function(t){var e=+t;return e<1e-4&&e>-1e-4?0:e}).match(_svgPathExp)||[],m=[],v=0,P=0,x=2/3,b=d.length,M=0,y="ERROR: malformed path: "+t,S=function(t,e,n,r){g=(n-t)/3,h=(r-e)/3,i.push(t+g,e+h,n-g,r-h,n,r)};if(!t||!isNaN(d[0])||isNaN(d[1]))return console.log(y),m;for(e=0;e<b;e++)if(p=s,isNaN(d[e])?(s=d[e].toUpperCase(),a=s!==d[e]):e--,r=+d[e+1],o=+d[e+2],a&&(r+=v,o+=P),e||(l=r,u=o),"M"===s)i&&(i.length<8?m.length-=1:M+=i.length),v=l=r,P=u=o,i=[r,o],m.push(i),e+=2,s="L";else if("C"===s)i||(i=[0,0]),a||(v=P=0),i.push(r,o,v+1*d[e+3],P+1*d[e+4],v+=1*d[e+5],P+=1*d[e+6]),e+=6;else if("S"===s)g=v,h=P,"C"!==p&&"S"!==p||(g+=v-i[i.length-4],h+=P-i[i.length-3]),a||(v=P=0),i.push(g,h,r,o,v+=1*d[e+3],P+=1*d[e+4]),e+=4;else if("Q"===s)g=v+(r-v)*x,h=P+(o-P)*x,a||(v=P=0),v+=1*d[e+3],P+=1*d[e+4],i.push(g,h,v+(r-v)*x,P+(o-P)*x,v,P),e+=4;else if("T"===s)g=v-i[i.length-4],h=P-i[i.length-3],i.push(v+g,P+h,r+(v+1.5*g-r)*x,o+(P+1.5*h-o)*x,v=r,P=o),e+=2;else if("H"===s)S(v,P,v=r,P),e+=1;else if("V"===s)S(v,P,v,P=r+(a?P-v:0)),e+=1;else if("L"===s||"Z"===s)"Z"===s&&(r=l,o=u,i.closed=!0),("L"===s||_abs(v-r)>.5||_abs(P-o)>.5)&&(S(v,P,r,o),"L"===s&&(e+=2)),v=r,P=o;else if("A"===s){if(c=d[e+4],f=d[e+5],g=d[e+6],h=d[e+7],n=7,c.length>1&&(c.length<3?(h=g,g=f,n--):(h=f,g=c.substr(2),n-=2),f=c.charAt(1),c=c.charAt(0)),_=arcToSegment(v,P,+d[e+1],+d[e+2],+d[e+3],+c,+f,(a?v:0)+1*g,(a?P:0)+1*h),e+=n,_)for(n=0;n<_.length;n++)i.push(_[n]);v=i[i.length-2],P=i[i.length-1]}else console.log(y);return e=i.length,e<6?(m.pop(),e=0):i[0]===i[e-2]&&i[1]===i[e-1]&&(i.closed=!0),m.totalPoints=M+e,m}export function bezierToPoints(t,e,n,r,o,s,a,i,l,u,g){var h,_=(t+n)/2,p=(e+r)/2,c=(n+o)/2,f=(r+s)/2,d=(o+a)/2,m=(s+i)/2,v=(_+c)/2,P=(p+f)/2,x=(c+d)/2,b=(f+m)/2,M=(v+x)/2,y=(P+b)/2,S=a-t,w=i-e,L=_abs((n-a)*w-(r-i)*S),N=_abs((o-a)*w-(s-i)*S);return u||(u=[t,e,a,i],g=2),u.splice(g||u.length-2,0,M,y),(L+N)*(L+N)>l*(S*S+w*w)&&(h=u.length,bezierToPoints(t,e,_,p,v,P,M,y,l,u,g),bezierToPoints(M,y,x,b,d,m,a,i,l,u,g+2+(u.length-h))),u}export function flatPointsToSegment(t,e){void 0===e&&(e=1);for(var n=t[0],r=0,o=[n,r],s=2;s<t.length;s+=2)o.push(n,r,t[s],r=(t[s]-n)*e/2,n=t[s],-r);return o}export function pointsToSegment(t,e,n){_abs(t[0]-t[2])<1e-4&&_abs(t[1]-t[3])<1e-4&&(t=t.slice(2));var r,o,s,a,i,l,u,g,h,_,p,c,f,d,m=t.length-2,v=+t[0],P=+t[1],x=+t[2],b=+t[3],M=[v,P,v,P],y=x-v,S=b-P,w=Math.abs(t[m]-v)<.001&&Math.abs(t[m+1]-P)<.001;for(isNaN(n)&&(n=Math.PI/10),w&&(t.push(x,b),x=v,b=P,v=t[m-2],P=t[m-1],t.unshift(v,P),m+=4),e=e||0===e?+e:1,i=2;i<m;i+=2)r=v,o=P,v=x,P=b,x=+t[i+2],b=+t[i+3],v===x&&P===b||(l=y,g=S,y=x-v,S=b-P,u=x-r,h=b-o,c=l*l+g*g,f=y*y+S*S,d=u*u+h*h,s=Math.acos((c+f-d)/_sqrt(4*c*f)),p=s/Math.PI*e,_=_sqrt(c)*p,p*=_sqrt(f),v===r&&P===o||(s>n?(a=_atan2(h,u),M.push(_round(v-_cos(a)*_),_round(P-_sin(a)*_),_round(v),_round(P),_round(v+_cos(a)*p),_round(P+_sin(a)*p))):(a=_atan2(g,l),M.push(_round(v-_cos(a)*_),_round(P-_sin(a)*_)),a=_atan2(S,y),M.push(_round(v),_round(P),_round(v+_cos(a)*p),_round(P+_sin(a)*p)))));return v!==x||P!==b||M.length<4?M.push(_round(x),_round(b),_round(x),_round(b)):M.length-=2,w&&(M.splice(0,6),M.length=M.length-6),M}export function simplifyPoints(t,e){var n,r,o,s,a,i,l,u=parseFloat(t[0]),g=parseFloat(t[1]),h=[u,g],_=t.length-2;for(e=Math.pow(e||1,2),n=2;n<_;n+=2)r=parseFloat(t[n]),o=parseFloat(t[n+1]),s=u-r,a=g-o,s*s+a*a>e&&(h.push(r,o),u=r,g=o);return h.push(parseFloat(t[_]),parseFloat(t[_+1])),l=h.length-2,i=[h[0],h[1]],simplifyStep(h,0,l,e,i),i.push(h[l],h[l+1]),i}export function getClosestData(t,e,n,r){var o,s,a,i,l={j:0,i:0,t:0},u=_largeNum;for(s=0;s<t.length;s++)for(i=t[s],o=0;o<i.length;o+=6)a=getClosestProgressOnBezier(1,e,n,0,1,r||20,i[o],i[o+1],i[o+2],i[o+3],i[o+4],i[o+5],i[o+6],i[o+7]),u>_bestDistance&&(u=_bestDistance,l.j=s,l.i=o,l.t=a);return l}export function subdivideSegmentNear(t,e,n,r,o){var s,a,i=n.length,l=_largeNum,u=0,g=0;for(r=r||20,o=o||3,a=0;a<i;a+=6)s=getClosestProgressOnBezier(1,t,e,0,1,r,n[a],n[a+1],n[a+2],n[a+3],n[a+4],n[a+5],n[a+6],n[a+7]),l>_bestDistance&&(l=_bestDistance,u=s,g=a);return s=getClosestProgressOnBezier(o,t,e,u-.05,u+.05,r,n[g],n[g+1],n[g+2],n[g+3],n[g+4],n[g+5],n[g+6],n[g+7]),subdivideSegment(n,g,s),g+6}export function rawPathToString(t){_isNumber(t[0])&&(t=[t]);var e,n,r,o,s="",a=t.length;for(n=0;n<a;n++){for(o=t[n],s+="M"+_round(o[0])+","+_round(o[1])+" C",e=o.length,r=2;r<e;r++)s+=_round(o[r++])+","+_round(o[r++])+" "+_round(o[r++])+","+_round(o[r++])+" "+_round(o[r++])+","+_round(o[r])+" ";o.closed&&(s+="z")}return s}