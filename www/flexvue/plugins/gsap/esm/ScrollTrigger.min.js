var gsap,_coreInitted,_win,_doc,_docEl,_body,_root,_resizeDelay,_raf,_request,_toArray,_clamp,_time2,_syncInterval,_refreshing,_pointerIsDown,_transformProp,_i,_prevWidth,_prevHeight,_autoRefresh,_sort,_suppressOverwrites,_ignoreResize,_limitCallbacks,_creatingMedia,_lastMediaTick,_refreshingAll,_startup=1,_proxies=[],_scrollers=[],_getTime=Date.now,_time1=_getTime(),_lastScrollTime=0,_enabled=1,_passThrough=function(e){return e},_getTarget=function(e){return _toArray(e)[0]||(_isString(e)?console.warn("Element not found:",e):null)},_round=function(e){return Math.round(1e5*e)/1e5||0},_windowExists=function(){return"undefined"!=typeof window},_getGSAP=function(){return gsap||_windowExists()&&(gsap=window.gsap)&&gsap.registerPlugin&&gsap},_isViewport=function(e){return!!~_root.indexOf(e)},_getProxyProp=function(e,t){return~_proxies.indexOf(e)&&_proxies[_proxies.indexOf(e)+1][t]},_getScrollFunc=function(e,t){var r=t.s,i=t.sc,n=_scrollers.indexOf(e),o=i===_vertical.sc?1:2;return!~n&&(n=_scrollers.push(e)-1),_scrollers[n+o]||(_scrollers[n+o]=_getProxyProp(e,r)||(_isViewport(e)?i:function(t){return arguments.length?e[r]=t:e[r]}))},_getBoundsFunc=function(e){return _getProxyProp(e,"getBoundingClientRect")||(_isViewport(e)?function(){return _winOffsets.width=_win.innerWidth,_winOffsets.height=_win.innerHeight,_winOffsets}:function(){return _getBounds(e)})},_getSizeFunc=function(e,t,r){var i=r.d,n=r.d2,o=r.a;return(o=_getProxyProp(e,"getBoundingClientRect"))?function(){return o()[i]}:function(){return(t?_win["inner"+n]:e["client"+n])||0}},_getOffsetsFunc=function(e,t){return!t||~_proxies.indexOf(e)?_getBoundsFunc(e):function(){return _winOffsets}},_maxScroll=function(e,t){var r=t.s,i=t.d2,n=t.d,o=t.a;return(r="scroll"+i)&&(o=_getProxyProp(e,r))?o()-_getBoundsFunc(e)()[n]:_isViewport(e)?(_body[r]||_docEl[r])-(_win["inner"+i]||_docEl["client"+i]||_body["client"+i]):e[r]-e["offset"+i]},_iterateAutoRefresh=function(e,t){for(var r=0;r<_autoRefresh.length;r+=3)(!t||~t.indexOf(_autoRefresh[r+1]))&&e(_autoRefresh[r],_autoRefresh[r+1],_autoRefresh[r+2])},_isString=function(e){return"string"==typeof e},_isFunction=function(e){return"function"==typeof e},_isNumber=function(e){return"number"==typeof e},_isObject=function(e){return"object"==typeof e},_callIfFunc=function(e){return _isFunction(e)&&e()},_combineFunc=function(e,t){return function(){var r=_callIfFunc(e),i=_callIfFunc(t);return function(){_callIfFunc(r),_callIfFunc(i)}}},_endAnimation=function(e,t,r){return e&&e.progress(t?0:1)&&r&&e.pause()},_callback=function(e,t){var r=t(e);r&&r.totalTime&&(e.callbackAnimation=r)},_abs=Math.abs,_scrollLeft="scrollLeft",_scrollTop="scrollTop",_left="left",_top="top",_right="right",_bottom="bottom",_width="width",_height="height",_Right="Right",_Left="Left",_Top="Top",_Bottom="Bottom",_padding="padding",_margin="margin",_Width="Width",_Height="Height",_px="px",_horizontal={s:_scrollLeft,p:_left,p2:_Left,os:_right,os2:_Right,d:_width,d2:_Width,a:"x",sc:function(e){return arguments.length?_win.scrollTo(e,_vertical.sc()):_win.pageXOffset||_doc[_scrollLeft]||_docEl[_scrollLeft]||_body[_scrollLeft]||0}},_vertical={s:_scrollTop,p:_top,p2:_Top,os:_bottom,os2:_Bottom,d:_height,d2:_Height,a:"y",op:_horizontal,sc:function(e){return arguments.length?_win.scrollTo(_horizontal.sc(),e):_win.pageYOffset||_doc[_scrollTop]||_docEl[_scrollTop]||_body[_scrollTop]||0}},_getComputedStyle=function(e){return _win.getComputedStyle(e)},_makePositionable=function(e){var t=_getComputedStyle(e).position;e.style.position="absolute"===t||"fixed"===t?t:"relative"},_setDefaults=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},_getBounds=function(e,t){var r=t&&"matrix(1, 0, 0, 1, 0, 0)"!==_getComputedStyle(e)[_transformProp]&&gsap.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return r&&r.progress(0).kill(),i},_getSize=function(e,t){var r=t.d2;return e["offset"+r]||e["client"+r]||0},_getLabelRatioArray=function(e){var t,r=[],i=e.labels,n=e.duration();for(t in i)r.push(i[t]/n);return r},_getClosestLabel=function(e){return function(t){return gsap.utils.snap(_getLabelRatioArray(e),t)}},_snapDirectional=function(e){var t=gsap.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(e,t){return e-t});return r?function(e,i){var n;if(!i)return t(e);if(i>0){for(e-=1e-4,n=0;n<r.length;n++)if(r[n]>=e)return r[n];return r[n-1]}for(n=r.length,e+=1e-4;n--;)if(r[n]<=e)return r[n];return r[0]}:function(r,i){var n=t(r);return!i||Math.abs(n-r)<.001||n-r<0==i<0?n:t(i<0?r-e:r+e)}},_getLabelAtDirection=function(e){return function(t,r){return _snapDirectional(_getLabelRatioArray(e))(t,r.direction)}},_multiListener=function(e,t,r,i){return r.split(",").forEach(function(r){return e(t,r,i)})},_addListener=function(e,t,r){return e.addEventListener(t,r,{passive:!0})},_removeListener=function(e,t,r){return e.removeEventListener(t,r)},_markerDefaults={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},_defaults={toggleActions:"play",anticipatePin:0},_keywords={top:0,left:0,center:.5,bottom:1,right:1},_offsetToPx=function(e,t){if(_isString(e)){var r=e.indexOf("="),i=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(i*=t/100),e=e.substr(0,r-1)),e=i+(e in _keywords?_keywords[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},_createMarker=function(e,t,r,i,n,o,s,a){var _=n.startColor,l=n.endColor,c=n.fontSize,d=n.indent,g=n.fontWeight,p=_doc.createElement("div"),u=_isViewport(r)||"fixed"===_getProxyProp(r,"pinType"),f=-1!==e.indexOf("scroller"),h=u?_body:r,m=-1!==e.indexOf("start"),v=m?_:l,y="border-color:"+v+";font-size:"+c+";color:"+v+";font-weight:"+g+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return y+="position:"+((f||a)&&u?"fixed;":"absolute;"),(f||a||!u)&&(y+=(i===_vertical?_right:_bottom)+":"+(o+parseFloat(d))+"px;"),s&&(y+="box-sizing:border-box;text-align:left;width:"+s.offsetWidth+"px;"),p._isStart=m,p.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),p.style.cssText=y,p.innerText=t||0===t?e+"-"+t:e,h.children[0]?h.insertBefore(p,h.children[0]):h.appendChild(p),p._offset=p["offset"+i.op.d2],_positionMarker(p,0,i,m),p},_positionMarker=function(e,t,r,i){var n={display:"block"},o=r[i?"os2":"p2"],s=r[i?"p2":"os2"];e._isFlipped=i,n[r.a+"Percent"]=i?-100:0,n[r.a]=i?"1px":0,n["border"+o+_Width]=1,n["border"+s+_Width]=0,n[r.p]=t+"px",gsap.set(e,n)},_triggers=[],_ids={},_sync=function(){return _getTime()-_lastScrollTime>20&&_updateAll()},_onScroll=function(){var e=_getTime();_lastScrollTime!==e?(_updateAll(),_lastScrollTime||_dispatch("scrollStart"),_lastScrollTime=e):_request||(_request=_raf(_updateAll))},_onResize=function(){return!_refreshing&&!_ignoreResize&&!_doc.fullscreenElement&&_resizeDelay.restart(!0)},_listeners={},_emptyArray=[],_media=[],_onMediaChange=function(e){var t,r=gsap.ticker.frame,i=[],n=0;if(_lastMediaTick!==r||_startup){for(_revertAll();n<_media.length;n+=4)t=_win.matchMedia(_media[n]).matches,t!==_media[n+3]&&(_media[n+3]=t,t?i.push(n):_revertAll(1,_media[n])||_isFunction(_media[n+2])&&_media[n+2]());for(_revertRecorded(),n=0;n<i.length;n++)t=i[n],_creatingMedia=_media[t],_media[t+2]=_media[t+1](e);_creatingMedia=0,_coreInitted&&_refreshAll(0,1),_lastMediaTick=r,_dispatch("matchMedia")}},_softRefresh=function e(){return _removeListener(ScrollTrigger,"scrollEnd",e)||_refreshAll(!0)},_dispatch=function(e){return _listeners[e]&&_listeners[e].map(function(e){return e()})||_emptyArray},_savedStyles=[],_revertRecorded=function(e){for(var t=0;t<_savedStyles.length;t+=5)e&&_savedStyles[t+4]!==e||(_savedStyles[t].style.cssText=_savedStyles[t+1],_savedStyles[t].getBBox&&_savedStyles[t].setAttribute("transform",_savedStyles[t+2]||""),_savedStyles[t+3].uncache=1)},_revertAll=function(e,t){var r;for(_i=0;_i<_triggers.length;_i++)r=_triggers[_i],t&&r.media!==t||(e?r.kill(1):r.revert());t&&_revertRecorded(t),t||_dispatch("revert")},_clearScrollMemory=function(){return _scrollers.forEach(function(e){return"function"==typeof e&&(e.rec=0)})},_refreshAll=function(e,t){if(!_lastScrollTime||e){_refreshingAll=!0;var r=_dispatch("refreshInit");_sort&&ScrollTrigger.sort(),t||_revertAll(),_triggers.forEach(function(e){return e.refresh()}),r.forEach(function(e){return e&&e.render&&e.render(-1)}),_clearScrollMemory(),_resizeDelay.pause(),_refreshingAll=!1,_dispatch("refresh")}else _addListener(ScrollTrigger,"scrollEnd",_softRefresh)},_lastScroll=0,_direction=1,_updateAll=function(){if(!_refreshingAll){var e=_triggers.length,t=_getTime(),r=t-_time1>=50,i=e&&_triggers[0].scroll();if(_direction=_lastScroll>i?-1:1,_lastScroll=i,r&&(_lastScrollTime&&!_pointerIsDown&&t-_lastScrollTime>200&&(_lastScrollTime=0,_dispatch("scrollEnd")),_time2=_time1,_time1=t),_direction<0){for(_i=e;_i-- >0;)_triggers[_i]&&_triggers[_i].update(0,r);_direction=1}else for(_i=0;_i<e;_i++)_triggers[_i]&&_triggers[_i].update(0,r);_request=0}},_propNamesToCopy=[_left,_top,_bottom,_right,_margin+_Bottom,_margin+_Right,_margin+_Top,_margin+_Left,"display","flexShrink","float","zIndex","grid-column-start","grid-column-end","grid-row-start","grid-row-end","grid-area","justify-self","align-self","place-self"],_stateProps=_propNamesToCopy.concat([_width,_height,"boxSizing","max"+_Width,"max"+_Height,"position",_margin,_padding,_padding+_Top,_padding+_Right,_padding+_Bottom,_padding+_Left]),_swapPinOut=function(e,t,r){_setState(r);var i=e._gsap;if(i.spacerIsNative)_setState(i.spacerState);else if(e.parentNode===t){var n=t.parentNode;n&&(n.insertBefore(e,t),n.removeChild(t))}},_swapPinIn=function(e,t,r,i){if(e.parentNode!==t){for(var n,o=_propNamesToCopy.length,s=t.style,a=e.style;o--;)n=_propNamesToCopy[o],s[n]=r[n];s.position="absolute"===r.position?"absolute":"relative","inline"===r.display&&(s.display="inline-block"),a[_bottom]=a[_right]="auto",s.overflow="visible",s.boxSizing="border-box",s[_width]=_getSize(e,_horizontal)+_px,s[_height]=_getSize(e,_vertical)+_px,s[_padding]=a[_margin]=a[_top]=a[_left]="0",_setState(i),a[_width]=a["max"+_Width]=r[_width],a[_height]=a["max"+_Height]=r[_height],a[_padding]=r[_padding],e.parentNode.insertBefore(t,e),t.appendChild(e)}},_capsExp=/([A-Z])/g,_setState=function(e){if(e){var t,r,i=e.t.style,n=e.length,o=0;for((e.t._gsap||gsap.core.getCache(e.t)).uncache=1;o<n;o+=2)r=e[o+1],t=e[o],r?i[t]=r:i[t]&&i.removeProperty(t.replace(_capsExp,"-$1").toLowerCase())}},_getState=function(e){for(var t=_stateProps.length,r=e.style,i=[],n=0;n<t;n++)i.push(_stateProps[n],r[_stateProps[n]]);return i.t=e,i},_copyState=function(e,t,r){for(var i,n=[],o=e.length,s=r?8:0;s<o;s+=2)i=e[s],n.push(i,i in t?t[i]:e[s+1]);return n.t=e.t,n},_winOffsets={left:0,top:0},_parsePosition=function(e,t,r,i,n,o,s,a,_,l,c,d,g){_isFunction(e)&&(e=e(a)),_isString(e)&&"max"===e.substr(0,3)&&(e=d+("="===e.charAt(4)?_offsetToPx("0"+e.substr(3),r):0));var p,u,f,h=g?g.time():0;if(g&&g.seek(0),_isNumber(e))s&&_positionMarker(s,r,i,!0);else{_isFunction(t)&&(t=t(a));var m,v,y,S,b=e.split(" ");f=_getTarget(t)||_body,m=_getBounds(f)||{},m&&(m.left||m.top)||"none"!==_getComputedStyle(f).display||(S=f.style.display,f.style.display="block",m=_getBounds(f),S?f.style.display=S:f.style.removeProperty("display")),v=_offsetToPx(b[0],m[i.d]),y=_offsetToPx(b[1]||"0",r),e=m[i.p]-_[i.p]-l+v+n-y,s&&_positionMarker(s,y,i,r-y<20||s._isStart&&y>20),r-=r-y}if(o){var x=e+r,w=o._isStart;p="scroll"+i.d2,_positionMarker(o,x,i,w&&x>20||!w&&(c?Math.max(_body[p],_docEl[p]):o.parentNode[p])<=x+1),c&&(_=_getBounds(s),c&&(o.style[i.op.p]=_[i.op.p]-i.op.m-o._offset+_px))}return g&&f&&(p=_getBounds(f),g.seek(d),u=_getBounds(f),g._caScrollDist=p[i.p]-u[i.p],e=e/g._caScrollDist*d),g&&g.seek(h),g?e:Math.round(e)},_prefixExp=/(?:webkit|moz|length|cssText|inset)/i,_reparent=function(e,t,r,i){if(e.parentNode!==t){var n,o,s=e.style;if(t===_body){for(n in e._stOrig=s.cssText,o=_getComputedStyle(e),o)+n||_prefixExp.test(n)||!o[n]||"string"!=typeof s[n]||"0"===n||(s[n]=o[n]);s.top=r,s.left=i}else s.cssText=e._stOrig;gsap.core.getCache(e).uncache=1,t.appendChild(e)}},_getTweenCreator=function(e,t){var r,i,n=_getScrollFunc(e,t),o="_scroll"+t.p2,s=function t(s,a,_,l,c){var d=t.tween,g=a.onComplete,p={};return d&&d.kill(),r=Math.round(_),a[o]=s,a.modifiers=p,p[o]=function(e){return e=_round(n()),e!==r&&e!==i&&Math.abs(e-r)>2?(d.kill(),t.tween=0):e=_+l*d.ratio+c*d.ratio*d.ratio,i=r,r=_round(e)},a.onComplete=function(){t.tween=0,g&&g.call(d)},d=t.tween=gsap.to(e,a),d};return e[o]=n,e.addEventListener("wheel",function(){return s.tween&&s.tween.kill()&&(s.tween=0)},{passive:!0}),s};_horizontal.op=_vertical;export var ScrollTrigger=function(){function e(t,r){_coreInitted||e.register(gsap)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(t,r)}var t=e.prototype;return t.init=function(t,r){if(this.progress=this.start=0,this.vars&&this.kill(1),_enabled){t=_setDefaults(_isString(t)||_isNumber(t)||t.nodeType?{trigger:t}:t,_defaults);var i,n,o,s,a,_,l,c,d,g,p,u,f,h,m,v,y,S,b,x,w,T,k,A,P,C,L,R,M,O,E,z,F,I,B,D,N,W=t,H=W.onUpdate,V=W.toggleClass,q=W.id,j=W.onToggle,U=W.onRefresh,G=W.scrub,X=W.trigger,Y=W.pin,Z=W.pinSpacing,$=W.invalidateOnRefresh,J=W.anticipatePin,K=W.onScrubComplete,Q=W.onSnapComplete,ee=W.once,te=W.snap,re=W.pinReparent,ie=W.pinSpacer,ne=W.containerAnimation,oe=W.fastScrollEnd,se=W.preventOverlaps,ae=t.horizontal||t.containerAnimation&&!1!==t.horizontal?_horizontal:_vertical,_e=!G&&0!==G,le=_getTarget(t.scroller||_win),ce=gsap.core.getCache(le),de=_isViewport(le),ge="fixed"===("pinType"in t?t.pinType:_getProxyProp(le,"pinType")||de&&"fixed"),pe=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],ue=_e&&t.toggleActions.split(" "),fe="markers"in t?t.markers:_defaults.markers,he=de?0:parseFloat(_getComputedStyle(le)["border"+ae.p2+_Width])||0,me=this,ve=t.onRefreshInit&&function(){return t.onRefreshInit(me)},ye=_getSizeFunc(le,de,ae),Se=_getOffsetsFunc(le,de),be=0,xe=_getScrollFunc(le,ae);if(me.media=_creatingMedia,J*=45,me.scroller=le,me.scroll=ne?ne.time.bind(ne):xe,s=xe(),me.vars=t,r=r||t.animation,"refreshPriority"in t&&(_sort=1),ce.tweenScroll=ce.tweenScroll||{top:_getTweenCreator(le,_vertical),left:_getTweenCreator(le,_horizontal)},me.tweenTo=i=ce.tweenScroll[ae.p],r&&(r.vars.lazy=!1,r._initted||!1!==r.vars.immediateRender&&!1!==t.immediateRender&&r.render(0,!0,!0),me.animation=r.pause(),r.scrollTrigger=me,E=_isNumber(G)&&G,E&&(O=gsap.to(r,{ease:"power3",duration:E,onComplete:function(){return K&&K(me)}})),R=0,q||(q=r.vars.id)),_triggers.push(me),te&&(_isObject(te)&&!te.push||(te={snapTo:te}),"scrollBehavior"in _body.style&&gsap.set(de?[_body,_docEl]:le,{scrollBehavior:"auto"}),o=_isFunction(te.snapTo)?te.snapTo:"labels"===te.snapTo?_getClosestLabel(r):"labelsDirectional"===te.snapTo?_getLabelAtDirection(r):!1!==te.directional?function(e,t){return _snapDirectional(te.snapTo)(e,t.direction)}:gsap.utils.snap(te.snapTo),z=te.duration||{min:.1,max:2},z=_isObject(z)?_clamp(z.min,z.max):_clamp(z,z),F=gsap.delayedCall(te.delay||E/2||.1,function(){if(Math.abs(me.getVelocity())<10&&!_pointerIsDown&&be!==xe()){var e=r&&!_e?r.totalProgress():me.progress,t=(e-M)/(_getTime()-_time2)*1e3||0,n=gsap.utils.clamp(-me.progress,1-me.progress,_abs(t/2)*t/.185),s=me.progress+(!1===te.inertia?0:n),a=_clamp(0,1,o(s,me)),c=xe(),d=Math.round(_+a*f),g=te,p=g.onStart,u=g.onInterrupt,h=g.onComplete,m=i.tween;if(c<=l&&c>=_&&d!==c){if(m&&!m._initted&&m.data<=_abs(d-c))return;!1===te.inertia&&(n=a-me.progress),i(d,{duration:z(_abs(.185*Math.max(_abs(s-e),_abs(a-e))/t/.05||0)),ease:te.ease||"power3",data:_abs(d-c),onInterrupt:function(){return F.restart(!0)&&u&&u(me)},onComplete:function(){be=xe(),R=M=r&&!_e?r.totalProgress():me.progress,Q&&Q(me),h&&h(me)}},c,n*f,d-c-n*f),p&&p(me,i.tween)}}else me.isActive&&F.restart(!0)}).pause()),q&&(_ids[q]=me),X=me.trigger=_getTarget(X||Y),Y=!0===Y?X:_getTarget(Y),_isString(V)&&(V={targets:X,className:V}),Y&&(!1===Z||Z===_margin||(Z=!(!Z&&"flex"===_getComputedStyle(Y.parentNode).display)&&_padding),me.pin=Y,!1!==t.force3D&&gsap.set(Y,{force3D:!0}),n=gsap.core.getCache(Y),n.spacer?h=n.pinState:(ie&&(ie=_getTarget(ie),ie&&!ie.nodeType&&(ie=ie.current||ie.nativeElement),n.spacerIsNative=!!ie,ie&&(n.spacerState=_getState(ie))),n.spacer=y=ie||_doc.createElement("div"),y.classList.add("pin-spacer"),q&&y.classList.add("pin-spacer-"+q),n.pinState=h=_getState(Y)),me.spacer=y=n.spacer,L=_getComputedStyle(Y),k=L[Z+ae.os2],b=gsap.getProperty(Y),x=gsap.quickSetter(Y,ae.a,_px),_swapPinIn(Y,y,L),v=_getState(Y)),fe&&(u=_isObject(fe)?_setDefaults(fe,_markerDefaults):_markerDefaults,g=_createMarker("scroller-start",q,le,ae,u,0),p=_createMarker("scroller-end",q,le,ae,u,0,g),S=g["offset"+ae.op.d2],c=_createMarker("start",q,le,ae,u,S,0,ne),d=_createMarker("end",q,le,ae,u,S,0,ne),ne&&(N=gsap.quickSetter([c,d],ae.a,_px)),ge||_proxies.length&&!0===_getProxyProp(le,"fixedMarkers")||(_makePositionable(de?_body:le),gsap.set([g,p],{force3D:!0}),P=gsap.quickSetter(g,ae.a,_px),C=gsap.quickSetter(p,ae.a,_px))),ne){var we=ne.vars.onUpdate,Te=ne.vars.onUpdateParams;ne.eventCallback("onUpdate",function(){me.update(0,0,1),we&&we.apply(Te||[])})}me.previous=function(){return _triggers[_triggers.indexOf(me)-1]},me.next=function(){return _triggers[_triggers.indexOf(me)+1]},me.revert=function(e){var t=!1!==e||!me.enabled,i=_refreshing;t!==me.isReverted&&(t&&(me.scroll.rec||(me.scroll.rec=xe()),B=Math.max(xe(),me.scroll.rec||0),I=me.progress,D=r&&r.progress()),c&&[c,d,g,p].forEach(function(e){return e.style.display=t?"none":"block"}),t&&(_refreshing=1),me.update(t),_refreshing=i,Y&&(t?_swapPinOut(Y,y,h):(!re||!me.isActive)&&_swapPinIn(Y,y,_getComputedStyle(Y),A)),me.isReverted=t)},me.refresh=function(i,n){if(!_refreshing&&me.enabled||n)if(Y&&i&&_lastScrollTime)_addListener(e,"scrollEnd",_softRefresh);else{_refreshing=1,O&&O.pause(),$&&r&&r.progress(0).invalidate(),me.isReverted||me.revert();for(var o,u,S,x,k,P,C,L,R,M,E=ye(),z=Se(),F=ne?ne.duration():_maxScroll(le,ae),N=0,W=0,H=t.end,V=t.endTrigger||X,q=t.start||(0!==t.start&&X?Y?"0 0":"0 100%":0),j=t.pinnedContainer&&_getTarget(t.pinnedContainer),G=X&&Math.max(0,_triggers.indexOf(me))||0,J=G;J--;)P=_triggers[J],P.end||P.refresh(0,1)||(_refreshing=1),C=P.pin,!C||C!==X&&C!==Y||P.isReverted||(M||(M=[]),M.unshift(P),P.revert());for(_isFunction(q)&&(q=q(me)),_=_parsePosition(q,X,E,ae,xe(),c,g,me,z,he,ge,F,ne)||(Y?-.001:0),_isFunction(H)&&(H=H(me)),_isString(H)&&!H.indexOf("+=")&&(~H.indexOf(" ")?H=(_isString(q)?q.split(" ")[0]:"")+H:(N=_offsetToPx(H.substr(2),E),H=_isString(q)?q:_+N,V=X)),l=Math.max(_,_parsePosition(H||(V?"100% 0":F),V,E,ae,xe()+N,d,p,me,z,he,ge,F,ne))||-.001,f=l-_||(_-=.01)&&.001,N=0,J=G;J--;)P=_triggers[J],C=P.pin,C&&P.start-P._pinPush<_&&!ne&&(o=P.end-P.start,(C===X||C===j)&&!_isNumber(q)&&(N+=o),C===Y&&(W+=o));if(_+=N,l+=N,me._pinPush=W,c&&N&&(o={},o[ae.a]="+="+N,j&&(o[ae.p]="-="+xe()),gsap.set([c,d],o)),Y)o=_getComputedStyle(Y),x=ae===_vertical,S=xe(),w=parseFloat(b(ae.a))+W,!F&&l>1&&((de?_body:le).style["overflow-"+ae.a]="scroll"),_swapPinIn(Y,y,o),v=_getState(Y),u=_getBounds(Y,!0),L=ge&&_getScrollFunc(le,x?_horizontal:_vertical)(),Z&&(A=[Z+ae.os2,f+W+_px],A.t=y,J=Z===_padding?_getSize(Y,ae)+f+W:0,J&&A.push(ae.d,J+_px),_setState(A),ge&&xe(B)),ge&&(k={top:u.top+(x?S-_:L)+_px,left:u.left+(x?L:S-_)+_px,boxSizing:"border-box",position:"fixed"},k[_width]=k["max"+_Width]=Math.ceil(u.width)+_px,k[_height]=k["max"+_Height]=Math.ceil(u.height)+_px,k[_margin]=k[_margin+_Top]=k[_margin+_Right]=k[_margin+_Bottom]=k[_margin+_Left]="0",k[_padding]=o[_padding],k[_padding+_Top]=o[_padding+_Top],k[_padding+_Right]=o[_padding+_Right],k[_padding+_Bottom]=o[_padding+_Bottom],k[_padding+_Left]=o[_padding+_Left],m=_copyState(h,k,re)),r?(R=r._initted,_suppressOverwrites(1),r.render(r.duration(),!0,!0),T=b(ae.a)-w+f+W,f!==T&&m.splice(m.length-2,2),r.render(0,!0,!0),R||r.invalidate(),_suppressOverwrites(0)):T=f;else if(X&&xe()&&!ne)for(u=X.parentNode;u&&u!==_body;)u._pinOffset&&(_-=u._pinOffset,l-=u._pinOffset),u=u.parentNode;M&&M.forEach(function(e){return e.revert(!1)}),me.start=_,me.end=l,s=a=xe(),ne||(s<B&&xe(B),me.scroll.rec=0),me.revert(!1),_refreshing=0,r&&_e&&r._initted&&r.progress()!==D&&r.progress(D,!0).render(r.time(),!0,!0),I!==me.progress&&(r&&!_e&&r.totalProgress(I,!0),me.progress=I,me.update(0,0,1)),Y&&Z&&(y._pinOffset=Math.round(me.progress*T)),U&&U(me)}},me.getVelocity=function(){return(xe()-a)/(_getTime()-_time2)*1e3||0},me.endAnimation=function(){_endAnimation(me.callbackAnimation),r&&(O?O.progress(1):r.paused()?_e||_endAnimation(r,me.direction<0,1):_endAnimation(r,r.reversed()))},me.getTrailing=function(e){var t=_triggers.indexOf(me),r=me.direction>0?_triggers.slice(0,t).reverse():_triggers.slice(t+1);return _isString(e)?r.filter(function(t){return t.vars.preventOverlaps===e}):r},me.update=function(e,t,n){if(!ne||n||e){var o,c,d,p,u,h,S,b,A=me.scroll(),L=e?0:(A-_)/f,E=L<0?0:L>1?1:L||0,z=me.progress;if(t&&(a=s,s=ne?xe():A,te&&(M=R,R=r&&!_e?r.totalProgress():E)),J&&!E&&Y&&!_refreshing&&!_startup&&_lastScrollTime&&_<A+(A-a)/(_getTime()-_time2)*J&&(E=1e-4),E!==z&&me.enabled){if(o=me.isActive=!!E&&E<1,c=!!z&&z<1,h=o!==c,u=h||!!E!=!!z,me.direction=E>z?1:-1,me.progress=E,u&&!_refreshing&&(d=E&&!z?0:1===E?1:1===z?2:3,_e&&(p=!h&&"none"!==ue[d+1]&&ue[d+1]||ue[d],b=r&&("complete"===p||"reset"===p||p in r))),se&&h&&(b||G||!r)&&(_isFunction(se)?se(me):me.getTrailing(se).forEach(function(e){return e.endAnimation()})),_e||(!O||_refreshing||_startup?r&&r.totalProgress(E,!!_refreshing):(O.vars.totalProgress=E,O.invalidate().restart())),Y)if(e&&Z&&(y.style[Z+ae.os2]=k),ge){if(u){if(S=!e&&E>z&&l+1>A&&A+1>=_maxScroll(le,ae),re)if(e||!o&&!S)_reparent(Y,y);else{var I=_getBounds(Y,!0),B=A-_;_reparent(Y,_body,I.top+(ae===_vertical?B:0)+_px,I.left+(ae===_vertical?0:B)+_px)}_setState(o||S?m:v),T!==f&&E<1&&o||x(w+(1!==E||S?0:T))}}else x(w+T*E);te&&!i.tween&&!_refreshing&&!_startup&&F.restart(!0),V&&(h||ee&&E&&(E<1||!_limitCallbacks))&&_toArray(V.targets).forEach(function(e){return e.classList[o||ee?"add":"remove"](V.className)}),H&&!_e&&!e&&H(me),u&&!_refreshing?(_e&&(b&&("complete"===p?r.pause().totalProgress(1):"reset"===p?r.restart(!0).pause():"restart"===p?r.restart(!0):r[p]()),H&&H(me)),!h&&_limitCallbacks||(j&&h&&_callback(me,j),pe[d]&&_callback(me,pe[d]),ee&&(1===E?me.kill(!1,1):pe[d]=0),h||(d=1===E?1:3,pe[d]&&_callback(me,pe[d]))),oe&&!o&&Math.abs(me.getVelocity())>(_isNumber(oe)?oe:2500)&&(_endAnimation(me.callbackAnimation),O?O.progress(1):_endAnimation(r,!E,1))):_e&&H&&!_refreshing&&H(me)}if(C){var D=ne?A/ne.duration()*(ne._caScrollDist||0):A;P(D+(g._isFlipped?1:0)),C(D)}N&&N(-A/ne.duration()*(ne._caScrollDist||0))}},me.enable=function(t,r){me.enabled||(me.enabled=!0,_addListener(le,"resize",_onResize),_addListener(le,"scroll",_onScroll),ve&&_addListener(e,"refreshInit",ve),!1!==t&&(me.progress=I=0,s=a=be=xe()),!1!==r&&me.refresh())},me.getTween=function(e){return e&&i?i.tween:O},me.disable=function(t,r){if(me.enabled&&(!1!==t&&me.revert(),me.enabled=me.isActive=!1,r||O&&O.pause(),B=0,n&&(n.uncache=1),ve&&_removeListener(e,"refreshInit",ve),F&&(F.pause(),i.tween&&i.tween.kill()&&(i.tween=0)),!de)){for(var o=_triggers.length;o--;)if(_triggers[o].scroller===le&&_triggers[o]!==me)return;_removeListener(le,"resize",_onResize),_removeListener(le,"scroll",_onScroll)}},me.kill=function(e,t){me.disable(e,t),O&&O.kill(),q&&delete _ids[q];var i=_triggers.indexOf(me);_triggers.splice(i,1),i===_i&&_direction>0&&_i--,i=0,_triggers.forEach(function(e){return e.scroller===me.scroller&&(i=1)}),i||(me.scroll.rec=0),r&&(r.scrollTrigger=null,e&&r.render(-1),t||r.kill()),c&&[c,d,g,p].forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),Y&&(n&&(n.uncache=1),i=0,_triggers.forEach(function(e){return e.pin===Y&&i++}),i||(n.spacer=0))},me.enable(!1,!1),r&&r.add&&!f?gsap.delayedCall(.01,function(){return _||l||me.refresh()})&&(f=.01)&&(_=l=0):me.refresh()}else this.update=this.refresh=this.kill=_passThrough},e.register=function(t){if(!_coreInitted&&(gsap=t||_getGSAP(),_windowExists()&&window.document&&(_win=window,_doc=document,_docEl=_doc.documentElement,_body=_doc.body),gsap&&(_toArray=gsap.utils.toArray,_clamp=gsap.utils.clamp,_suppressOverwrites=gsap.core.suppressOverwrites||_passThrough,gsap.core.globals("ScrollTrigger",e),_body))){_raf=_win.requestAnimationFrame||function(e){return setTimeout(e,16)},_addListener(_win,"wheel",_onScroll),_root=[_win,_doc,_docEl,_body],_addListener(_doc,"scroll",_onScroll);var r,i=_body.style,n=i.borderTopStyle;i.borderTopStyle="solid",r=_getBounds(_body),_vertical.m=Math.round(r.top+_vertical.sc())||0,_horizontal.m=Math.round(r.left+_horizontal.sc())||0,n?i.borderTopStyle=n:i.removeProperty("border-top-style"),_syncInterval=setInterval(_sync,200),gsap.delayedCall(.5,function(){return _startup=0}),_addListener(_doc,"touchcancel",_passThrough),_addListener(_body,"touchstart",_passThrough),_multiListener(_addListener,_doc,"pointerdown,touchstart,mousedown",function(){return _pointerIsDown=1}),_multiListener(_addListener,_doc,"pointerup,touchend,mouseup",function(){return _pointerIsDown=0}),_transformProp=gsap.utils.checkPrefix("transform"),_stateProps.push(_transformProp),_coreInitted=_getTime(),_resizeDelay=gsap.delayedCall(.2,_refreshAll).pause(),_autoRefresh=[_doc,"visibilitychange",function(){var e=_win.innerWidth,t=_win.innerHeight;_doc.hidden?(_prevWidth=e,_prevHeight=t):_prevWidth===e&&_prevHeight===t||_onResize()},_doc,"DOMContentLoaded",_refreshAll,_win,"load",function(){return _lastScrollTime||_refreshAll()},_win,"resize",_onResize],_iterateAutoRefresh(_addListener)}return _coreInitted},e.defaults=function(e){for(var t in e)_defaults[t]=e[t]},e.kill=function(){_enabled=0,_triggers.slice(0).forEach(function(e){return e.kill(1)})},e.config=function(e){"limitCallbacks"in e&&(_limitCallbacks=!!e.limitCallbacks);var t=e.syncInterval;t&&clearInterval(_syncInterval)||(_syncInterval=t)&&setInterval(_sync,t),"autoRefreshEvents"in e&&(_iterateAutoRefresh(_removeListener)||_iterateAutoRefresh(_addListener,e.autoRefreshEvents||"none"),_ignoreResize=-1===(e.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){var r=_getTarget(e),i=_scrollers.indexOf(r),n=_isViewport(r);~i&&_scrollers.splice(i,n?6:2),n?_proxies.unshift(_win,t,_body,t,_docEl,t):_proxies.unshift(r,t)},e.matchMedia=function(e){var t,r,i,n,o;for(r in e)i=_media.indexOf(r),n=e[r],_creatingMedia=r,"all"===r?n():(t=_win.matchMedia(r),t&&(t.matches&&(o=n()),~i?(_media[i+1]=_combineFunc(_media[i+1],n),_media[i+2]=_combineFunc(_media[i+2],o)):(i=_media.length,_media.push(r,n,o),t.addListener?t.addListener(_onMediaChange):t.addEventListener("change",_onMediaChange)),_media[i+3]=t.matches)),_creatingMedia=0;return _media},e.clearMatchMedia=function(e){e||(_media.length=0),e=_media.indexOf(e),e>=0&&_media.splice(e,4)},e.isInViewport=function(e,t,r){var i=(_isString(e)?_getTarget(e):e).getBoundingClientRect(),n=i[r?_width:_height]*t||0;return r?i.right-n>0&&i.left+n<_win.innerWidth:i.bottom-n>0&&i.top+n<_win.innerHeight},e.positionInViewport=function(e,t,r){_isString(e)&&(e=_getTarget(e));var i=e.getBoundingClientRect(),n=i[r?_width:_height],o=null==t?n/2:t in _keywords?_keywords[t]*n:~t.indexOf("%")?parseFloat(t)*n/100:parseFloat(t)||0;return r?(i.left+o)/_win.innerWidth:(i.top+o)/_win.innerHeight},e}();ScrollTrigger.version="3.8.0",ScrollTrigger.saveStyles=function(e){return e?_toArray(e).forEach(function(e){if(e&&e.style){var t=_savedStyles.indexOf(e);t>=0&&_savedStyles.splice(t,5),_savedStyles.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),gsap.core.getCache(e),_creatingMedia)}}):_savedStyles},ScrollTrigger.revert=function(e,t){return _revertAll(!e,t)},ScrollTrigger.create=function(e,t){return new ScrollTrigger(e,t)},ScrollTrigger.refresh=function(e){return e?_onResize():(_coreInitted||ScrollTrigger.register())&&_refreshAll(!0)},ScrollTrigger.update=_updateAll,ScrollTrigger.clearScrollMemory=_clearScrollMemory,ScrollTrigger.maxScroll=function(e,t){return _maxScroll(e,t?_horizontal:_vertical)},ScrollTrigger.getScrollFunc=function(e,t){return _getScrollFunc(_getTarget(e),t?_horizontal:_vertical)},ScrollTrigger.getById=function(e){return _ids[e]},ScrollTrigger.getAll=function(){return _triggers.slice(0)},ScrollTrigger.isScrolling=function(){return!!_lastScrollTime},ScrollTrigger.snapDirectional=_snapDirectional,ScrollTrigger.addEventListener=function(e,t){var r=_listeners[e]||(_listeners[e]=[]);~r.indexOf(t)||r.push(t)},ScrollTrigger.removeEventListener=function(e,t){var r=_listeners[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},ScrollTrigger.batch=function(e,t){var r,i=[],n={},o=t.interval||.016,s=t.batchMax||1e9,a=function(e,t){var r=[],i=[],n=gsap.delayedCall(o,function(){t(r,i),r=[],i=[]}).pause();return function(e){r.length||n.restart(!0),r.push(e.trigger),i.push(e),s<=r.length&&n.progress(1)}};for(r in t)n[r]="on"===r.substr(0,2)&&_isFunction(t[r])&&"onRefreshInit"!==r?a(r,t[r]):t[r];return _isFunction(s)&&(s=s(),_addListener(ScrollTrigger,"refresh",function(){return s=t.batchMax()})),_toArray(e).forEach(function(e){var t={};for(r in n)t[r]=n[r];t.trigger=e,i.push(ScrollTrigger.create(t))}),i},ScrollTrigger.sort=function(e){return _triggers.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+e.start-(t.start+-1e6*(t.vars.refreshPriority||0))})},_getGSAP()&&gsap.registerPlugin(ScrollTrigger);export{ScrollTrigger as default};