"use strict";export default class AsyncTask{async execute(e,t,n,o={},a=null){let s=t,r={};const c=e.toUpperCase();if("GET"==c){if(Object.keys(n).length>0){let e=Object.entries(n).map(([e,t])=>`${e}=${encodeURIComponent(t)}`).join("&");s=`${s}?${e}`}r=a||{"Content-Type":"application/json"}}else{let e=Object.entries(n).map(([e,t])=>`${e}=${t}`).join("&");Object.assign(o,{body:new URLSearchParams(e)}),Log.d(o),r=a||{"Content-Type":"application/x-www-form-urlencoded"}}let i={method:c,cache:"no-cache",headers:new Headers(r)};i=await Object.assign(i,o);const l=await fetch(s,i),d=l.headers.get("content-type");if(!l.ok)throw Log.e(l),new Error(l.status);let p;return d.includes("application/json")?p=await l.json():d.includes("text")?p=await l.text():d.includes("application")&&(p=await l.blob()),p}async doImport(e){return Log.d("doImport : "+e),await import(e).then(e=>e)}async doImportCss(e){if(Log.d("doImportCss : "+e),null===document.querySelector(`[href="${e}"]`))return Log.d("run link import css"),await document.getElementsByTagName("head")[0].insertAdjacentHTML("beforeend",`<link rel="stylesheet" href="${e}" />`)}}