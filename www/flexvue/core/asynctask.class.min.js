"use strict";export default class AsyncTask{async execute(e,t,n,o={},s=null){let a=t,c={};const i=e.toUpperCase();if("GET"==i){if(Object.keys(n).length>0){let e=Object.entries(n).map(([e,t])=>`${e}=${encodeURIComponent(t)}`).join("&");a=`${a}?${e}`}c=s||{"Content-Type":"application/json"}}else Object.assign(o,{body:JSON.stringify(n)}),c=s||{"Content-Type":"application/x-www-form-urlencoded"};let r={method:i,cache:"no-cache",headers:c};r=Object.assign(r,o),Log.d(r);const l=await fetch(a,r),d=l.headers.get("content-type");if(!l.ok)throw Log.e(l),new Error(l.status);let p;return d.includes("application/json")?p=await l.json():d.includes("text")?p=await l.text():d.includes("application")&&(p=await l.blob()),p}async doImport(e){return Log.d("doImport : "+e),await import(e).then(e=>e)}async doImportCss(e){if(Log.d("doImportCss : "+e),null===document.querySelector(`[href="${e}"]`))return Log.d("run link import css"),await document.getElementsByTagName("head")[0].insertAdjacentHTML("beforeend",`<link rel="stylesheet" href="${e}" />`)}}