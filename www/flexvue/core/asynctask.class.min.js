"use strict";export default class AsyncTask{async doGet(e,t,o={}){let n=e;if(Object.keys(t).length>0){let e=Object.entries(t).map(([e,t])=>`${e}=${encodeURIComponent(t)}`).join("&");n=`${n}?${e}`}Log.d("doGet --> "+n);let a=o||{"Content-Type":"application/json",Accept:"application/json"},s={method:"GET",mode:"cors",cache:config.cache,headers:a};const c=await fetch(n,s);if(c.ok)return await c.json();throw new Error(c.status)}async doPost(e,t,o={}){let n=e,a=o||{"Content-Type":"application/json",Accept:"application/json"},s={method:void 0!==t.id&&null!==t.id?"PUT":"POST",mode:"cors",cache:"no-cache",headers:a,body:JSON.stringify(t)};Log.d(n);const c=await fetch(n,s);if(c.ok)return await c.json();throw new Error(c.status)}async doImport(e){return Log.d("doImport : "+e),await import(e).then(e=>e)}async doImportCss(e){if(Log.d("doImportCss : "+e),null===document.querySelector(`[href="${e}"]`))return Log.d("run link import css"),await document.getElementsByTagName("head")[0].insertAdjacentHTML("beforeend",`<link rel="stylesheet" href="${e}" />`)}}