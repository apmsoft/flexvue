"use strict";export default class AsyncTask{async execute(e,t,n={},o={},a=null){const s=e.toUpperCase();let r=t,c=a||("GET"==s?{"Content-Type":"text/plain"}:{"Content-Type":"application/json"}),i={method:s,cache:"no-cache",headers:new Headers(c)};"GET"!=s&&(i.body=n),Object.entries(o).forEach(([e,t])=>{i[e]=t});const l=await fetch(r,i),d=l.headers.get("content-type");if(!l.ok)throw Log.e(l),new Error(l.status);let p;return d.includes("application/json")?p=await l.json():d.includes("text")?p=await l.text():d.includes("application")&&(p=await l.blob()),p}async doImport(e){return Log.d("doImport : "+e),await import(e).then(e=>e)}async doImportCss(e){if(Log.d("doImportCss : "+e),null===document.querySelector(`[href="${e}"]`))return Log.d("run link import css"),await document.getElementsByTagName("head")[0].insertAdjacentHTML("beforeend",`<link rel="stylesheet" href="${e}" />`)}}