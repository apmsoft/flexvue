import{UrlManager}from"../../flexvue/core/urlmanager.class.min.js";class DaumPostMap{constructor(e,t,a){this.target_id=e,this.map_x=t||127.489093909065,this.map_y=a||36.6423200323081,this.map=null}doPrintMap(e){let t=this;void 0!==e.lat&&(t.map_y=e.lat),void 0!==e.lon&&(t.map_x=e.lon);var a=document.getElementById("map"),o={center:new daum.maps.LatLng(t.map_y,t.map_x),level:2};t.map=new daum.maps.Map(a,o);var n=new daum.maps.LatLng(t.map_y,t.map_x),d=new daum.maps.Marker({position:n});d.setMap(t.map)}doPostCodeAddress(e,t,a,o){let n=this;document.querySelector(e).addEventListener("click",function(){Activity.onStart("#bottomthird");const e=new UrlManager(document.location);e.pushState("postcode","postcode",`${e.pathname}?${e.makeJSON2URL({mode:"postcode"})}`);var d=document.getElementById("bottomthird_docs_contents");daum.postcode.load(function(){new daum.Postcode({oncomplete:function(e){Log.d(e);let d="",u="";"R"===e.userSelectedType&&(""!==e.bname&&(u+=e.bname),""!=e.buildingName&&(u+=""!=u?`, ${e.buildingName}`:e.buildingName),d+=""!==u?` (${u})`:"");let m="";if(document.querySelector("#area")){if(m=e.sido,"서울"==m)m=m+"/"+e.sigungu;else if("제주특별자치도"==m)m=m+"/"+e.sigungu;else if("경기"==m||"강원"==m||"충북"==m||"충남"==m||"전북"==m||"전남"==m||"경북"==m||"경남"==m){var s=e.sigungu.split("시");m=e.sido+"/"+s[0]}else m=e.sido;document.querySelector("#area").value=m}document.querySelector(t).value=e.zonecode,document.querySelector(a).value=`${e.roadAddress} ${d}`,null!==o&&""!=o&&(void 0!==e.jibunAddress?document.querySelector(o).value=`${e.jibunAddress} ${d}`:document.querySelector(o).value=`${e.sido} ${e.sigungu} ${e.query} ${d}`),geocoder.addressSearch(e.jibunAddress+" "+d,function(e,t){if(Log.d(e),t===daum.maps.services.Status.OK){document.querySelector("#lat").value=e[0].y,document.querySelector("#lon").value=e[0].x;var a=new daum.maps.LatLngBounds;new daum.maps.Marker({map:n.map,position:new daum.maps.LatLng(e[0].y,e[0].x)});a.extend(new daum.maps.LatLng(e[0].y,e[0].x)),n.map.setBounds(a)}}),Activity.onStop("#bottomthird")},width:"100%",height:"500px",maxSuggestItems:5}).embed(d)})})}}export{DaumPostMap};