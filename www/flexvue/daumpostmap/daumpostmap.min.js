import{UrlManager}from"../../flexvue/core/urlmanager.class.min.js";class DaumPostMap{constructor(e,t,a){this.target_id=e,this.map_x=t||127.489093909065,this.map_y=a||36.6423200323081,this.map=null,this.doPrintMap({})}doPrintMap(e){let t=this;void 0!==e.lat&&(t.map_y=e.lat),void 0!==e.lon&&(t.map_x=e.lon);var a=document.getElementById("map"),o={center:new daum.maps.LatLng(t.map_y,t.map_x),level:2};t.map=new daum.maps.Map(a,o);var n=new daum.maps.LatLng(t.map_y,t.map_x),d=new daum.maps.Marker({position:n});d.setMap(t.map)}doPostCodeAddress(e,t,a){let o=this;document.querySelector(this.target_id).addEventListener("click",function(){Activity.onStart("#bottomthird");const n=new UrlManager(document.location);n.pushState("postcode","postcode",`${n.pathname}?${n.makeJSON2URL({mode:"postcode"})}`);var d=document.getElementById("bottomthird_docs_contents");daum.postcode.load(function(){new daum.Postcode({oncomplete:function(n){Log.d(n);let d="",s="";"R"===n.userSelectedType&&(""!==n.bname&&(s+=n.bname),""!=n.buildingName&&(s+=""!=s?`, ${n.buildingName}`:n.buildingName),d+=""!==s?` (${s})`:"");let u="";if(document.querySelector("#post_area")){if(u=n.sido,"서울"==u)u=u+"/"+n.sigungu;else if("제주특별자치도"==u)u=u+"/"+n.sigungu;else if("경기"==u||"강원"==u||"충북"==u||"충남"==u||"전북"==u||"전남"==u||"경북"==u||"경남"==u){var m=n.sigungu.split("시");u=n.sido+"/"+m[0]}else u=n.sido;document.querySelector("#post_area").value=u}document.querySelector(e).value=n.zonecode,document.querySelector(t).value=`${n.roadAddress} ${d}`,null!==a&&""!=a&&(void 0!==n.jibunAddress?document.querySelector(a).value=`${n.jibunAddress} ${d}`:document.querySelector(a).value=`${n.sido} ${n.sigungu} ${n.query} ${d}`),geocoder.addressSearch(n.jibunAddress+" "+d,function(e,t){if(Log.d(e),t===daum.maps.services.Status.OK){document.querySelector("#lat").value=e[0].y,document.querySelector("#lon").value=e[0].x;var a=new daum.maps.LatLngBounds;new daum.maps.Marker({map:o.map,position:new daum.maps.LatLng(e[0].y,e[0].x)});a.extend(new daum.maps.LatLng(e[0].y,e[0].x)),o.map.setBounds(a)}}),Activity.onStop("#bottomthird")},width:"100%",height:"500px",maxSuggestItems:5}).embed(d)})})}}export{DaumPostMap};