<script type="text/template" id="tpl_docs_template">
    <h3 class="mb-10">Template</h3>

    <div class="bg-gray-100 mb-10 p-5 border rounded-lg">
        템플릿을 가져와 함께 전송된 데이터를 바인딩하여 줍니다.
    </div>

    <section class="mb-10">
        <h5 class="text-gray-500 mb-1">import</h5>
        <pre class="bg-gray-900 text-gray-100 rounded-lg px-0 text-sm">
        <code class="language-javascript">
            import {Template} from '../../../flexvue/core/template.class.min.js';
        </code>
        </pre>
    </section>
    
    <section class="mb-10">
        <h5 class="text-gray-500 mb-1">new 선언</h5>
        <pre class="bg-gray-900 text-gray-100 rounded-lg px-0 text-sm">
        <code class="language-javascript">
            const template = new Template();
        </code>
        </pre>
    </section>
    
    <section class="mb-10">
        <h5 class="text-gray-500 mb-1">선언과 템플릿 가져오기</h5>
        <pre class="bg-gray-900 text-gray-100 rounded-lg px-0 text-sm">
        <code class="language-javascript">

            >> template 파일 위치
            /v1
            ㄴ example.html

            >> template html source
            &lt;script type="text/template" id="tpl_example"&gt;
                &lt;p&gt;
                    이름 : \$\{name\}
                    age : \$\{age\}
                &lt;/p&gt;
            &lt;/script&gt;

            // 템플릿 파일명과 템플릿 id
            const template_filename = \`/v1/example.html\`;
            const template_id = '#tpl_example';

            // 템플릿 파일 가지고 오기
            new Template().readFile( template_filename, template_filename).then( (tpl)=>{
                >> 출력
                Log.d ( tpl );

                >> OUTPUT HTML //------->
                &lt;p&gt;
                    이름 : \$\{name\}
                    age : \$\{age\}
                &lt;/p&gt;
                //<------------HTML
            });
        </code>
        </pre>
    </section>

    <section class="mb-10">
        <h5 class="text-gray-500 mb-1">템플릿 데이터 변환(렌더링)하기</h5>
        <pre class="bg-gray-900 text-gray-100 rounded-lg px-0 text-sm">
        <code class="language-javascript">

            >> template 파일 위치
            /v1
            ㄴ example.html

            >> template html source
            &lt;script type="text/template" id="tpl_example"&gt;
                &lt;p&gt;
                    이름 : \$\{name\}
                    age : \$\{age\}
                &lt;/p&gt;
            &lt;/script&gt;

            // 템플릿 파일명과 템플릿 id
            const template_filename = \`/v1/example.html\`;
            const template_id = '#tpl_example';

            // 템플릿 파일 가지고 오기
            new Template().readFile( template_filename, template_filename).then( (tpl)=>
            {
                // resp json data
                const resp = {
                    name : '홍길동',
                    age : 20
                }

                // render
                const render_tpl = new Template().render( tpl, resp);

                Log.d( render_tpl );

                >> OUTPUT HTML //------->
                &lt;p&gt;
                    이름 : 홍길동
                    age : 20
                &lt;/p&gt;
                //<------------HTML
            });
        </code>
        </pre>
    </section>

    <section class="mb-10">
        <h5 class="text-gray-500 mb-1">GET 으로 JSON 데이터와 Template 을 가져와 렌더링 하여 HTML로 출력하기</h5>
        <ol>
            <li>GET 으로 데이터 가지고 오기</li>
            <li>템플릿 가져오기</li>
            <li>HTML로 출력하기</li>
        </ol>
        <pre class="bg-gray-900 text-gray-100 rounded-lg px-0 text-sm">
        <code class="language-javascript">
            >> HTML
            &lt;div id="left_docs_contents"&gt; 
                여기에 html 템플릿이 출력될것임
            &lt;/div&gt;

            >> TEMPLATE
            /template
            ㄴ test
                ㄴㄴ test.html 

            >> JSON
            /res
            ㄴ values
                ㄴㄴ strings.json 



            // template html source
            &lt;script type="text/template" id="tpl_test"&gt;
                &lt;p class="text-sm"&gt;
                    앱명 : \$\{app_name\}
                    삭제 질문 : \$\{confirm_delete\}
                &lt;/p&gt;
            &lt;/script&gt;



            // strings.json 
            {
                "app_name" = "flexvue"',
                "confirm_delete" = "삭제 하시겠습니까?"
            }

            
            // data 
            const connect_url = \`/res/values/strings.json\`;
            const connect_params = {};

            // template
            const template_filename = \`/template/test/test.html\`;
            const template_id = '#tpl_test'

            // Promise all
            Promise.all([
                new AsyncTask().doGet( connect_url, connect_params ), 
                new Template().readFile( template_filename, template_id )
            ])
            .then((data) => 
            {
                const resp = data[0];
                const tpl = data[1];

                // result
                return new Promise((resolve)=>
                {
                    // render 
                    const outhtml_el = document.querySelector('#left_docs_contents');
                    outhtml_el.innerHTML = new Template().render(tpl,resp);

                    >> OUTPUT HTML //------->
                    &lt;p class="text-sm"&gt;
                        앱명 : flexvue
                        삭제 질문 : 삭제 하시겠습니까?
                    &lt;/p&gt;
                    //<------------HTML
                    
                    resolve(resp);
                }); 
            })
            .then((resp)=>
            {
                // scroll top
                document.querySelector('#left_docs_contents').scrollTo({top: 0, behavior: 'smooth'});

                // click event
                document.querySelectorAll('p').forEach((el)=>{
                    el.addEventListener('click', function(){
                        // 로그출력
                        Log.i ( el.getAttribute('class') );

                        >> 출력
                        2021-03-20 PM 1:28:15 >> I :  text-sm
                    }
                });
            })
            .catch((message)=>{
                Log.e ( message );
            })
            .finally(()=>{
                // close progress
                ProgressBar.close();
            });

        </code>
        </pre>
    </section>

</script>