import{Template}from"../../flexvue/core/template.class.js";import{Forms}from"../../flexvue/core/forms.class.js";import{AsyncTask}from"../../flexvue/core/asynctask.class.js";import{UrlManager}from"../../flexvue/core/urlmanager.class.js";import ZingTouch from"../../flexvue/zingtouch/ZingTouch.js";const onReady=()=>{(new Activity).onCreateView(),Activity.onBackPressed(e=>{Log.i("onBackPressed : "+e),history.go(-1)}),new ProgressBar,ProgressBar.show();var e=new ZingTouch.Region(document.body),o=document.getElementById("left_docs_contents");e.bind(o,"tap",function(e){Log.i("ZingTouch >> "+e.detail.interval)});const n=new UrlManager(document.location);n.pushState("index","μΈν…μ¤",`./?${n.makeJSON2URL(n.url_params)}`),console.log("onReady"),Log.i("config ",config.version),flatpickr("#start_date",{altInput:!0,altFormat:"Y-m-d",dateFormat:"Y-m-d"}),flatpickr.localize(flatpickr.l10ns.ko),FilePond.registerPlugin(FilePondPluginFileValidateSize,FilePondPluginFileValidateType,FilePondPluginImagePreview);const t=document.querySelector('input[type="file"]');FilePond.create(t,{name:t,maxFiles:1,allowBrowse:!0,server:{url:config.src+"/popup/upload",process:{url:"/process.php",method:"POST",withCredentials:!1,headers:{},timeout:7e3,onload:e=>(console.log("onload"),console.log(e),e.key),onerror:e=>(console.log("onerror"),console.log(e),e.data),ondata:e=>(e.append("extract_id",resp.msg.extract_id),e)},revert:null,load:null,fetch:null,restore:null}});ClassicEditor.create(document.querySelector("#description"),{toolbar:{items:["heading","|","bold","italic","link","|","blockQuote","insertTable","mediaEmbed","undo","redo"]},language:"ko"}).then(e=>{window.editor=e,window.editor.editing.view.focus()}).catch(e=>{console.error(e)});new App;Log.i(App.browser,App.version,App.os,App.lang),App.lang="",Log.i(App.lang),Handler.post(()=>Log.d("Handler post")),(new AsyncTask).doGet(`../res/values/strings${App.glueLang}.json`,{}).then(e=>{Log.i("----->",e)}),(new Template).readFile(`${config.asset}/tpl/test${App.glueLang}.html`,"#tpl_test").then(e=>{new Promise(o=>{const n=(new Template).render(e,{name:"γ…‡",age:10});document.querySelector("#left_docs_contents").innerHTML=n,o(!0)})}).then(e=>{document.querySelector("#btn-test").addEventListener("click",e=>{(new AsyncTask).doImport("../../v1/js/notice.class.js").then(e=>{const o=new e.Notice;o.doList({page:1})})},!1)}).finally(()=>{ProgressBar.close()})};document.addEventListener("DOMContentLoaded",function(){onReady()});